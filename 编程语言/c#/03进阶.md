# ç®€å•çš„æ•°æ®ç»“æ„ç±»

æ•°æ®ç»“æ„å­¦çš„æ˜¯å¢åˆ æŸ¥æ”¹
## ArrayList

è¿½åŠ å‘½åç©ºé—´ï¼šSystem.Collections
æœ¬è´¨æ˜¯object[ ]ç±»ï¼ˆæ‰€ä»¥ä¹Ÿå¯ä»¥å­˜ç±»ï¼‰
å‹çš„æ•°ç»„ï¼Œå¯ä»¥å­˜å‚¨ä»»ä½•ç±»å‹æ•°æ®

![0144f3807df22dbd2ecc19a23f4e7cb.png](03è¿›é˜¶img/1657986438524-bc389b58-7cb9-41b4-b4da-948bc167e3c0.png)

### å¢åˆ æŸ¥æ”¹

```c#
ArrayList array = new ArrayList();
//â­•å¢
//1.å•ä¸ªå¢åŠ  Add
array.Add(1);
array.Add("æ•°æ®");
array.Add(3.1415926f);
int[] a = new int[]{1,2,3,4,5,6,7};
//2.èŒƒå›´å¢åŠ  AddRange ç›¸å½“äºæ‹¼æ¥æ•°ç»„
array.AddRange(a);
//ç°åœ¨arrayä¸­å‚¨å­˜çš„å…ƒç´ ä¸º{1,"æ•°æ®",3.1415926f,1,2,3,4,5,6,7}

//â­•æ’å…¥ å‚æ•°1æ’å…¥çš„ä½ç½® å‚æ•°2æ’å…¥çš„æ•°æ®
array.Insert(1,"1234567");
//ç°åœ¨arrayä¸­å‚¨å­˜çš„å…ƒç´ ä¸º{1,"1234567","æ•°æ®",3.1415926f,1,2,3,4,5,6,7}

//â­•åˆ 
//1.ç§»é™¤æŒ‡å®šå…ƒç´  ä»å¤´å¼€å§‹éå†
array.Remove(1);
//2.ç§»é™¤æŒ‡å®šä½ç½®çš„å…ƒç´ 
array.RemoveAt(2);
//3.æ¸…ç©º
array.Clear();

//â­•æŸ¥
//1.å¾—åˆ°æŒ‡å®šä½ç½®çš„å…ƒç´  [] ä¸æ•°ç»„è®¿é—®åŒç†
for (int i = 0; i < array.Count; i++)
{
    Console.WriteLine(array[i]);
}
//2.æŸ¥çœ‹å…ƒç´ æ˜¯å¦å­˜åœ¨
array.Add("123");
array.Add(1);
array.Add(true);
array.Add(1);
if (array.Contains("123"))
{
    Console.WriteLine("å…ƒç´  \"123 \"åœ¨");
}
//æ‰“å°ç»“æœä¸º"å…ƒç´  \"123 \"åœ¨"
//3.æ­£å‘æŸ¥æ‰¾å…ƒç´ ä½ç½® æ‰¾åˆ°è¿”å›å€¼æ˜¯ä½ç½® æ‰¾ä¸åˆ°è¿”å›-1
Console.WriteLine(array.IndexOf(1));
//æ‰“å°ç»“æœä¸º1
//4.åå‘æŸ¥æ‰¾å…ƒç´ ä½ç½®
Console.WriteLine(array.LastIndexOf(1));
//æ‰“å°ç»“æœä¸º3

//â­•æ”¹
array[0]="999";

//â­•éå†
//é•¿åº¦ Count
//å®¹é‡ Capacity
for (int i = 0; i < array.Count; i++)
{
    Console.WriteLine(array[i]);
}
//æ‰“å°ç»“æœä¸º "999" 1 true 1
//â­•è¿­ä»£å™¨éå†
foreach (object item in array)
{
    Console.WriteLine(item);
}
//æ‰“å°ç»“æœä¸º "999" 1 true 1
```

### è£…ç®±æ‹†ç®±

![image.png](03è¿›é˜¶img/1657992607753-e8bdeb15-6286-4e10-bab1-43fafe3fac36.png)

```

intÂ iÂ =Â 1;
array[0]Â =Â i;Â Â //è£…ç®± æŠŠå­˜åœ¨æ ˆä¸Šçš„å˜é‡å­˜åˆ°å †ä¸Š
iÂ =Â (int)array[0]Â //æ‹†ç®± æŠŠå­˜åœ¨å †ä¸Šçš„å˜é‡å­˜å›æ ˆä¸Š

```

## Stackï¼ˆæ ˆï¼‰

è¿½åŠ å‘½åç©ºé—´ï¼šSystem.Collections
æœ¬è´¨æ˜¯object[ ]æ•°ç»„

![image.png](03è¿›é˜¶img/1658048877292-325795be-3e5b-4b26-ad67-17c889dd1960.png)

å­˜å‚¨è§„åˆ™ï¼š å…ˆè¿›åå‡º

![image.png](03è¿›é˜¶img/1658049028790-33d83890-4827-47ec-bb8c-4b68cc0d3efc.png)

### å¢å–æŸ¥æ”¹

```c#
//å£°æ˜
Stack sta = new Stack(); 

//â­•å¢ å‹æ ˆ ä¸€ä¸ªä¸€ä¸ªæ”¾
sta.Push(1);
sta.Push(true);
sta.Push("ä½ å¥½");

//â­•å– å¼¹æ ˆ ä¸€ä¸ªä¸€ä¸ªå–
object o = sta.Pop();
//è¿”å› "ä½ å¥½"
o = sta.Pop();
//è¿”å›  true

//â­•æŸ¥ æ ˆæ— æ³•æŸ¥çœ‹æŒ‡å®šä½ç½®çš„å…ƒç´  
//1.åªèƒ½æŸ¥çœ‹æ ˆé¡¶çš„å†…å®¹ ä¸”ä¸å¼¹å‡º
o = sta.Peek();
//è¿”å› 1
//2.æŸ¥çœ‹å…ƒç´ æ˜¯å¦å­˜åœ¨æ ˆä¸­
if (sta.Contains(1))
{
    Console.WriteLine("å…ƒç´  \"1\" å­˜åœ¨æ ˆä¸­ ");
}
//æ‰“å°ç»“æœä¸ºï¼š å…ƒç´  "1" å­˜åœ¨æ ˆä¸­

//â­•æ”¹ æ ˆæ— æ³•æ”¹å˜å…¶ä¸­çš„å…ƒç´  åªèƒ½å‹å¼¹ è¦ä¿®æ”¹åªèƒ½æ¸…ç©ºå†å‹æ ˆ
sta.Clear();

sta.Push(1);
sta.Push("ä½ ä½ ä½ ");
sta.Push(3.1415926f);

//â­•éå† æ ˆæ²¡æœ‰åŠæ³•ä½¿ç”¨forå¾ªç¯éå† ä½¿ç”¨foreach
//é•¿åº¦ Count
Console.WriteLine(sta.Count);
//æ‰“å°ç»“æœä¸º 3
//å¾ªç¯å‡ºæ¥çš„é¡ºåºä¹Ÿæ˜¯ä»æ ˆé¡¶åˆ°æ ˆåº•
foreach (object item in sta)
{
    Console.WriteLine(item);
}
//æ‰“å°ç»“æœä¸º 3.1415926f "ä½ ä½ ä½ " 1
Console.WriteLine(sta.Count);
//é•¿åº¦è¿˜æ˜¯ä¸º 3

//â­•è½¬æ•°ç»„åéå† 
//æ ˆè½¬æ¢ä¸ºobjectæ•°ç»„
object[] arr = sta.ToArray();
for (int i = 0; i < arr.Length; i++)
{
    Console.WriteLine(arr[i]);
}
//æ‰“å°ç»“æœä¸º 3.1415926f "ä½ ä½ ä½ " 1

//â­•â­•å¾ªç¯å¼¹æ ˆ
Console.WriteLine(sta.Count);
//æ‰“å°ç»“æœä¸º 3
while ( sta.Count>0 )
{
    o = sta.Pop();
    Console.WriteLine(o);
}
//æ‰“å°ç»“æœä¸º 3.1415926f "ä½ ä½ ä½ " 1
Console.WriteLine(sta.Count);
//æ‰“å°ç»“æœä¸º 0
```

```c#
//å†™ä¸€ä¸ªæ–¹æ³•è®¡ç®—ä¸€ä¸ªæ•°çš„äºŒè¿›åˆ¶ ç”¨æ ˆå­˜å‚¨
Stack ToTwo(int a)
{
    Stack gen = new Stack();

    while (a > 0)
    {
        gen.Push(a % 2);
        a = a / 2; //è€å•†è¢«2æ•´é™¤ ä¸”éšè½¬intå–æ•´
    }

    return gen;
}


Stack fen = ToTwo(20);
while (fen.Count > 0)
{
    Console.Write(fen.Pop());
}
//æ‰“å°ç»“æœä¸º 10100
```

### è£…ç®±æ‹†ç®±

![image.png](03è¿›é˜¶img/1658051784706-060df6e6-8d24-45c8-93cc-9640c91bb76f.png)

```c#
intÂ aÂ =Â 10;
sta.Push(a);Â //è£…ç®±
aÂ =Â sta.Pop();Â //æ‹†ç®±
```

## Queueï¼ˆé˜Ÿåˆ—ï¼‰

è¿½åŠ å‘½åç©ºé—´ï¼šSystem.Collections
æœ¬è´¨æ˜¯object[ ] æ•°ç»„
ä¸Stackï¼ˆæ ˆï¼‰çš„æ¦‚å¿µéå¸¸ç›¸ä¼¼ï¼Œä¸€ä¸ªæ˜¯å…ˆè¿›åå‡º ä¸€ä¸ªæ˜¯å…ˆè¿›å…ˆå‡º

![image.png](03è¿›é˜¶img/1658059319003-f134b4e9-3f78-4ea2-b40b-c7390cea2eac.png)

å…ˆè¿›å…ˆå‡º

![image.png](03è¿›é˜¶img/1658059393366-13612a74-f5ce-4b0a-969f-914b91906bc5.png)

### å¢å–æŸ¥æ”¹

```c#
//â­•å¢
que.Enqueue(1);
que.Enqueue("è¿™æ˜¯å­—ç¬¦ä¸²");
que.Enqueue(3.14159f);
que.Enqueue(true);
que.Enqueue(new MyClass());

//â­•å– å–å‡ºå…ˆåŠ å…¥çš„å¯¹è±¡
object o2 = que.Dequeue();
//è¿”å› 1

//â­•æŸ¥
//1.æŸ¥çœ‹é˜Ÿåˆ—å¤´éƒ¨å…ƒç´  ä½†ä¸ç§»é™¤
o2 = que.Peek();
//è¿”å› "è¿™æ˜¯å­—ç¬¦ä¸²"
//2.æŸ¥çœ‹å…ƒç´ æ˜¯å¦å­˜åœ¨é˜Ÿåˆ—ä¸­
if(que.Contains(3.14159f))
{
    Console.WriteLine("3.14159f åœ¨é˜Ÿåˆ—ä¸­");
}
//æ‰“å°ç»“æœä¸º 3.14159f åœ¨é˜Ÿåˆ—ä¸­

//â­•æ”¹ é˜Ÿåˆ—æ— æ³•ä¿®æ”¹å…ƒç´  åªèƒ½æ¸…é™¤é‡æ–°Enqueue
que.Clear();
que.Enqueue(1);
que.Enqueue(2);
que.Enqueue(3);

//â­•éå†
//é•¿åº¦ Count
o2 = que.Count;
//è¿”å› 3
foreach (object item in que)
{
    Console.WriteLine(item);
}
//æ‰“å°ç»“æœä¸º 1 2 3
//â­•å°†é˜Ÿåˆ—è½¬ä¸ºobjectæ•°ç»„åéå†
object[] arr = que.ToArray();
for (int i = 0; i < arr.Length; i++)
{
    Console.WriteLine(arr[i]);
}
//æ‰“å°ç»“æœä¸º 1 2 3

//â­•â­•å¾ªç¯å‡ºåˆ—
Console.WriteLine(que.Count);
//æ‰“å°ç»“æœä¸º 3
while ( que.Count>0 )
{
    o2 = que.Dequeue();
    Console.WriteLine(o2);
}
//æ‰“å°ç»“æœä¸º 1 2 3
Console.WriteLine(que.Count);
//æ‰“å°ç»“æœä¸º 0
```

### è£…ç®±æ‹†ç®±

![image.png](03è¿›é˜¶img/1658061457638-da27255b-1c54-4bef-bd04-8453966aae7b.png)

```

intÂ aÂ =Â 10;
que.Enqueue(a);Â //è£…ç®±
aÂ =Â que.Dequeue();Â //æ‹†ç®±

```

## Hashtalbe

è¿½åŠ å‘½åç©ºé—´ï¼šSystem.Collections
é€šè¿‡é”®å»æ‰¾å€¼

![image.png](03è¿›é˜¶img/1658074535135-5ac0da5a-1f38-4007-845f-f95ae8cfa0d6.png)

é”®å€¼å¯¹ ä¸€ä¸ªkeyï¼ˆé”®ï¼‰å¯¹åº”ä¸€ä¸ªvalueï¼ˆå€¼ï¼‰
key1------>value1
key2------>value2
key3------>value3

### å¢åˆ æŸ¥æ”¹

```c#
Hashtable hash = new Hashtable();
//â­•å¢ å‚æ•°1ä¸ºé”® å‚æ•°2ä¸ºå€¼ éƒ½æ˜¯objectç±»æ‰€ä»¥ä»€ä¹ˆç±»å‹æ•°æ®éƒ½èƒ½å­˜
//ä¸èƒ½å­˜ç›¸åŒçš„é”®
hash.Add(1, "æ•°æ®1");
hash.Add("äºŒ", "æ•°æ®2");
hash.Add(2.34f, "æ•°æ®3");
hash.Add(true, 123312);

//â­•åˆ  é€šè¿‡é”®å»åˆ é™¤
hash.Remove(1);
//æˆ–è€…å…¨éƒ¨æ¸…ç©º
//hash.Clear();

//â­•æŸ¥ 
//1.é€šè¿‡é”®æŸ¥çœ‹å€¼ æ‰¾ä¸åˆ°åˆ™è¿”å›ç©º
Console.WriteLine( hash["äºŒ"]);
//æ‰“å°ç»“æœä¸º "æ•°æ®äºŒ"
//2.æŸ¥çœ‹é”®æ˜¯å¦å­˜åœ¨  Contains/ContainsKey
if(hash.Contains(2.34f))
{
    Console.WriteLine("å­˜åœ¨é”®ä¸º2.34f");
}
//æ‰“å°ç»“æœä¸º å­˜åœ¨é”®ä¸º2.34f
//3.æŸ¥çœ‹å€¼æ˜¯å¦å­˜åœ¨  ContainsValue
if(hash.ContainsValue(123312))
{
    Console.WriteLine("å­˜åœ¨å€¼ä¸º123312");
}
//æ‰“å°ç»“æœä¸º å­˜åœ¨å€¼ä¸º123312

//â­•æ”¹
//åªèƒ½æ”¹ é”®å¯¹åº”çš„å€¼çš„å†…å®¹ æ— æ³•ä¿®æ”¹é”®
hash[true] = "æ­£ç¡®";
Console.WriteLine(hash[true]);
//æ‰“å°ç»“æœä¸º æ­£ç¡®

//å¾—åˆ°é”®å€¼å¯¹å¯¹æ•°
//hash.Count; 

//â­•éå†
//1.éå†æ‰€æœ‰é”®
foreach(object item in hash.Keys)
{
    Console.Write("é”®:"+item);
    Console.WriteLine("å€¼:"+hash[item]);
}
//æ‰“å°ç»“æœä¸ºï¼š é”®:2.34  å€¼:æ•°æ®3
//			  é”®:äºŒ    å€¼:æ•°æ®2
//			  é”®:True  å€¼:æ­£ç¡®

//2.éå†æ‰€æœ‰å€¼
foreach(object item in hash.Values)
{
    Console.WriteLine("å€¼:"+item);
}
//æ‰“å°ç»“æœä¸ºï¼š æ•°æ®3 æ•°æ®2 æ­£ç¡®

//3.é”®å€¼å¯¹ä¸€èµ·éå†
foreach(DictionaryEntry item in hash)
{
    Console.WriteLine("é”®:"+item.Key+"å€¼:"+item.Value);
}
//æ‰“å°ç»“æœä¸ºï¼š é”®:2.34  å€¼:æ•°æ®3
//			  é”®:äºŒ    å€¼:æ•°æ®2
//			  é”®:True  å€¼:æ­£ç¡®

//4.è¿­ä»£å™¨éå†æ³•
IDictionaryEnumerator myEnumerator = hash.GetEnumerator();
bool flag = myEnumerator.MoveNext();
while (flag)
{
    Console.WriteLine("é”®:" + myEnumerator.Key + "å€¼:" + myEnumerator.Value);
    flag = myEnumerator.MoveNext();
}
//æ‰“å°ç»“æœä¸ºï¼š é”®:2.34  å€¼:æ•°æ®3
//			  é”®:äºŒ    å€¼:æ•°æ®2
//			  é”®:True  å€¼:æ­£ç¡®
```

### è£…ç®±æ‹†ç®±

```

intÂ aÂ =Â 10;
hash["äºŒ"]Â =Â a;Â //è£…ç®±
aÂ =Â hash["äºŒ"];Â //æ‹†ç®±

```



# æ³›å‹

![image.png](03è¿›é˜¶img/1658126561959-b5596da9-e2b3-4d1c-a2c4-b0e939809615.png)

![image.png](03è¿›é˜¶img/1658126772425-68359ef0-3cb4-4404-b2db-acb7ff7d2efe.png)

## æ³›å‹æ¥å£&æ³›å‹ç±»

```c#
class MyClass<T>
{
    public T value;
}
//æ³›å‹å ä½å­—æ¯æœ‰å¤šä¸ª
class MyClass2<T1,T2,K,M>
{
    public T1 value1;
    public T2 value2;
    public K value3;
    public M value4;
}

//****************ä¸»å‡½æ•°***********************
MyClass<int> t = new MyClass<int>();
t.value = 10;
MyClass<string> t2 = new MyClass<string>();
t2.value = "å‚æ•°";

MyClass2 <int, string, float, MyClass<int>> 
t3 = new MyClass2<int, string, float, MyClass<int>>();
```

```c#
interface MyInterface<T>
{
    T Value
    {
        get;
        set;
    }
}

class Myclass3:MyInterface<int>
{
    public int Value
    {
        get;
        set;
    }
}
```

## æ³›å‹æ–¹æ³•

```c#
//æ™®é€šç±»ä¸­æ³›å‹æ–¹æ³•
class MyClass4
{
    public void MyFun <T> (T value)
    {
        Console.WriteLine(value);
    }
}
//****************ä¸»å‡½æ•°***********************
MyClass4 t4 = new MyClass4();
t4.MyFun<string>("ä½ å¥½");
```

```c#
class MyClass4<T>
{
    public T value;
    public void MyFun <Y> (Y value)
    {
        Console.WriteLine(value);
    }
}
//****************ä¸»å‡½æ•°***********************
MyClass4<int> t5 = new MyClass4<int>();
t5.MyFun<string>("ä½ å¥½ä¸–ç•Œ");
```

## æ³›å‹çš„ä½œç”¨

![image.png](03è¿›é˜¶img/1658131282802-ff5eecf6-2825-4e9c-ba01-9704ad005728.png)

![image.png](03è¿›é˜¶img/1658132405665-25333cbd-8293-4366-9d73-9ffba646f546.png)

![image.png](03è¿›é˜¶img/1658132483761-d94ae6f1-dde7-43a1-aa6d-0c4e7f1a3ce2.png)

```c#
class ArrayList<T>
{
    private T[] array;
        
    public void Add(T t)
    {

    }

    public void Remove(T t)
    {

    }
}
```

## æ³›å‹çº¦æŸ

è¯­æ³•ï¼šwhere æ³›å‹å­—æ¯ : (çº¦æŸçš„ç±»å‹)
çº¦æŸçš„ç±»å‹ï¼šstructï¼Œclassï¼Œnew()ï¼Œç±»åï¼Œæ¥å£åï¼Œå¦ä¸€ä¸ªæ³›å‹å­—æ¯
æ³›å‹çº¦æŸå¯ä»¥ç»„åˆä½¿ç”¨
å¤šä¸ªæ³›å‹çº¦æŸ ç”¨whereè¿æ¥

**æ³›å‹çº¦æŸç±»å‹**

- `where T : class`ï¼šå¼•ç”¨ç±»å‹ã€‚
- `where T : struct`ï¼šå€¼ç±»å‹ã€‚
- `where T : new()`ï¼šæœ‰æ— å‚æ„é€ å‡½æ•°ã€‚
- `where T : BaseClass`ï¼šç»§æ‰¿è‡ªç‰¹å®šåŸºç±»ã€‚
- `where T : Interface`ï¼šå®ç°ç‰¹å®šæ¥å£ã€‚
- `where T : E`ï¼šç»§æ‰¿è‡ªç‰¹å®šæ³›å‹

```c#
//1.å€¼ç±»å‹çº¦æŸ
class Test1<T> where T:struct
{
    public T value;
    public void Fun<K>(K k)where K:struct
    {

    }
}
//2.å¼•ç”¨ç±»å‹çº¦æŸ
class Test2<T> where T:class
{
    public T value;
    public void Fun<K>(K k)where K:class
    {

    }
}
//3.å­˜åœ¨æ— å‚å…¬å…±æ„é€ å‡½æ•°
class Test3<T> where T:new()
{
    public T value;
    public void Fun<K>(K k)where K:new()
    {

    }
}
//4.æŸä¸ªç±»æœ¬èº«æˆ–å…¶æ´¾ç”Ÿç±»ï¼ˆå­ç±»ï¼‰
class Father {}
class Son:Father {}
class Test4<T> where T:Father
{
    public T value;
    public void Fun<K>(K k)where K:Father
    {

    }
}
//5.æŸä¸ªæ¥å£çš„æ´¾ç”Ÿç±»å‹
interface IFly {}
class Player:IFly {}
class Test5<T> where T:IFly
{
    public T value;
    public void Fun<K>(K k)where K:IFly
    {

    }
}
//6.å¦ä¸€ä¸ªæ³›å‹ç±»å‹æœ¬èº«æˆ–è€…æ´¾ç”Ÿç±»å‹  ç±»å‹ä¸€è‡´æˆ–è€…æ˜¯å…¶æ´¾ç”Ÿç±»
class Test6<T,U> where T : U
{
    public T value;
    public void Fun<K,J>(K k,J j) where K : J
    {

    }
}
//7.æ³›å‹çš„ç»„åˆä½¿ç”¨
class Test7<T> where T:class,new()
{
    public T value;
}
//8.å¤šä¸ªæ³›å‹æœ‰çº¦æŸ
class Test8<T,K> where T: class where K:struct
{
    public T value;
    public K value2;
}
//****************ä¸»å‡½æ•°***********************
//1.<>å†…åªèƒ½å¡«å€¼ç±»å‹äº†
Test1<int> test1 = new Test1<int>();
test1.Fun<float>(2.6f);
//2.<>å†…åªèƒ½å¡«å¼•ç”¨ç±»å‹äº†
Test2<Random> test2 = new Test2<Random>();
test2.Fun<Random>(new Random());
//3.<>å†…åªèƒ½å¡« å…·æœ‰æ— å‚ä¸”å…¬å…±çš„æ„é€ å‡½æ•°çš„ç±»å‹ ä¸”éæŠ½è±¡ç±»
Test3<Random> test3 = new Test3<Random>();
test3.Fun<Random>(new Random());
//4.<>å†…åªèƒ½å¡«æŒ‡å®šçš„ç±»æˆ–å…¶å­ç±»
Test4<Father> test4 = new Test4<Father>();
test4.Fun<Son>(new Son());
//5.<>å†…åªèƒ½å¡«ç»§æ‰¿æŒ‡å®šæ¥å£çš„æ´¾ç”Ÿç±»
Test5<Player> test5 = new Test5<Player>();
test5.Fun<Player>(new Player());
//6.<>1å†…åªèƒ½å¡«<>2ç›¸åŒçš„ç±»å‹æˆ–è€…å…¶æ´¾ç”Ÿç±»
Test6<Son, Father> test6 = new Test6<Son, Father>();
//7.<>å†…åªèƒ½å¡«å¼•ç”¨ç±»å‹ ä¸”æ˜¯å­˜åœ¨æ— å‚å…¬å…±çš„æ„é€ å‡½æ•°
Test7<Son> test7 = new Test7<Son>();
//8.<>1å†…åªèƒ½å¼•ç”¨ç±»å‹<>2åªèƒ½å€¼ç±»å‹
Test8<Son, int> test8 = new Test8<Son, int>();
```

æ³›å‹å®ç°å•ä¾‹ï¼š

[bookmarkInlineå¡ç‰‡å†…å®¹]

# å¸¸ç”¨æ³›å‹æ•°æ®ç»“æ„ç±»

## List

è¿½åŠ å‘½åç©ºé—´ï¼šusing System.Collections.Generic;

![image.png](03è¿›é˜¶img/1658193983715-8a480a36-89f0-497a-b9cc-9d2ca9f51256.png)

### å¢åˆ æŸ¥æ”¹

```c#
//å£°æ˜
List<int> list = new List<int>();
List<string> list2 = new List<string>();
List<string> list3 = new List<string>();

//â­•å¢ å’ŒArrayListä¸€æ · 
list.Add(1);
list.Add(2);
list.Add(3);
list2.Add("ä½ å¥½");
list3.Add("ä¸–ç•Œ");
//èŒƒå›´å¢åŠ 
list2.AddRange(list3);
//list2ä¸º ä½ å¥½ä¸–ç•Œ

//â­•æ’ å‚æ•°1æ’å…¥çš„ä½ç½® å‚æ•°2æ’å…¥çš„æ•°æ®
list.Insert(0,99);

//â­•åˆ 
//1.ç§»é™¤æŒ‡å®šå…ƒç´ 
list.Remove(1);
//2.ç§»é™¤æŒ‡å®šä½ç½®å…ƒç´ 
list.RemoveAt(0);
//3.æ¸…ç©º
list.Clear();

list.Add(1);
list.Add(2);
list.Add(3);
list.Add(2);

//â­•æŸ¥
//1.å¾—åˆ°å…ƒç´ æŒ‡å®šä½ç½®
Console.WriteLine(list[0]);
//2.æŸ¥çœ‹å…ƒç´ æ˜¯å¦å­˜åœ¨
if (list.Contains(2))
{
    Console.WriteLine("listä¸­å…ƒç´ 2å­˜åœ¨");
}
//3.æ­£å‘æŸ¥æ‰¾
int index = list.IndexOf(2);
//è¿”å› 1
//4.åå‘æŸ¥æ‰¾
index = list.LastIndexOf(2);
//è¿”å› 3

//â­•æ”¹
list[0]=99;

//â­•éå†
//é•¿åº¦Count
//å®¹é‡Capacity
for (int i = 0; i < list.Count; i++)
{
    Console.WriteLine(list[i]);
}

foreach (int item in list)
{
    Console.WriteLine(item);
}
```

## Dictionary

è¿½åŠ å‘½åç©ºé—´ï¼šusing System.Collections.Generic;
ä¸Hashtableæ¯”èµ·æ¥ é”®å€¼å¯¹ç±»å‹å˜ä¸ºå¯ä»¥è‡ªå·±å®šä¹‰çš„æ³›å‹

![image.png](03è¿›é˜¶img/1658196395608-e9b5fe4d-5e3a-4eb4-9e95-e124017963b1.png)

### å¢åˆ æŸ¥æ”¹

```c#
//å£°æ˜
Dictionary<int, string> dictionary = new Dictionary<int, string>();

//â­•å¢
dictionary.Add(1,"ä½ å¥½");
dictionary.Add(2,"ä¸–ç•Œ");
dictionary.Add(3,"Hello");

//â­•åˆ 
//1.é€šè¿‡é”®å»åˆ é™¤ é”®å€¼å¯¹ä¼šä¸€èµ·è¢«åˆ é™¤
dictionary.Remove(1);
//2.æ¸…ç©º
//dictionary.Clear();

//â­•æŸ¥ æ‰¾ä¸åˆ°ä¼šæŠ¥é”™
//1.é€šè¿‡é”®æŸ¥çœ‹å€¼
Console.WriteLine(dictionary[2]);
//2.æŸ¥çœ‹æ˜¯å¦å­˜åœ¨
if (dictionary.ContainsKey(2))
{
    Console.WriteLine("å­˜åœ¨é”®ä¸º2çš„é”®å€¼å¯¹");
}
if (dictionary.ContainsValue("ä¸–ç•Œ"))
{
    Console.WriteLine("å­˜åœ¨å€¼ä¸º \"ä¸–ç•Œ\" çš„é”®å€¼å¯¹");
}

//â­•æ”¹
dictionary[3]="åŒå­¦";

//â­•éå†
//1.éå†æ‰€æœ‰é”®
foreach (int item in dictionary.Keys)
{
    Console.WriteLine(item);
    Console.WriteLine(dictionary[item]);
}
//2.éå†æ‰€æœ‰å€¼
foreach (string item in dictionary.Values)
{
    Console.WriteLine(item);
}
//3.é”®å€¼å¯¹ä¸€èµ·éå†
foreach (KeyValuePair<int,string> item in dictionary)
{
    Console.WriteLine(item.Key+item.Value);
}
```

```c#
try
{
    while (true)
    {
        Console.WriteLine("è¯·è¾“å…¥ä¸è¶…è¿‡ä¸‰ä½çš„æ•°å­—");
        Dictionary<char, string> DaXie = new Dictionary<char, string>();
        DaXie.Add('1', "å£¹");
        DaXie.Add('2', "è´°");
        DaXie.Add('3', "å");
        DaXie.Add('4', "è‚†");
        DaXie.Add('5', "ä¼");
        DaXie.Add('6', "é™†");
        DaXie.Add('7', "æŸ’");
        DaXie.Add('8', "æŒ");
        DaXie.Add('9', "ç–");
        DaXie.Add('0', "æ‹¾");

        string input = Console.ReadLine();
        char[] arrayInput = input.ToCharArray();
        if (arrayInput.Length <= 3)
        {
            for (int i = 0; i < arrayInput.Length; i++)
            {
                Console.Write(DaXie[arrayInput[i]]);
            }
            Console.WriteLine();
        }
        else
        {
            Console.WriteLine("è¯·è¾“å…¥ä¸è¶…è¿‡ä¸‰ä½çš„æ•°å­—!!!!");
            Console.ReadKey();
            Console.Clear();
        }
    }
}
catch
{
    Console.WriteLine("è¯·è¾“å…¥åˆæ³•æ•°å­—");
}
```

## é¡ºåºå­˜å‚¨&é“¾å¼å­˜å‚¨

### æ•°æ®ç»“æ„æ˜¯ä»€ä¹ˆ

![image.png](03è¿›é˜¶img/1658201276222-f12fa8a5-1043-4f5c-b0f6-9f191841d73a.png)

![image.png](03è¿›é˜¶img/1658201465349-ff4841f1-2706-430c-94e9-092b2096684a.png)

### é¡ºåºå­˜å‚¨å’Œé“¾å¼å­˜å‚¨çš„ä¼˜ç¼ºç‚¹

![image.png](03è¿›é˜¶img/1658286534740-304a12d4-e3c2-4fc1-94ec-63835857af81.png)

### é¡ºåºå­˜å‚¨

![image.png](03è¿›é˜¶img/1658201539561-d2c57bea-5bab-4071-8638-39b41474c43e.png)

![image.png](03è¿›é˜¶img/1658281261724-a648cc7c-bcc4-45d1-b95e-1baf1f28c77c.png)

### é“¾å¼å­˜å‚¨

æ¯æ¬¡æ·»åŠ çš„æ—¶å€™ä¸ä¼šå­˜åœ¨åƒåœ¾äº§ç”Ÿï¼ˆå¯¹æ¯”é¡ºåºå­˜å‚¨ï¼‰

![image.png](03è¿›é˜¶img/1658201626254-5f995e28-e2f9-4c70-b73c-d141a5927fe3.png)

![image.png](03è¿›é˜¶img/1658281282072-c0bdfe1e-2d89-42f2-b06c-e6d837d078c0.png)

#### å•å‘é“¾è¡¨

![image.png](03è¿›é˜¶img/1658201986649-6e9aa0d8-414c-4c6e-b01f-bf390128586b.png)

```c#
class LinkedNode<T>
{
    public T value;
    //è¿™ä¸ªå­˜å‚¨ä¸‹ä¸€ä¸ªå…ƒç´ æ˜¯è° 
    public LinkedNode<T> nextNode;

    public LinkedNode(T value)
    {
        this.value = value;
    }
}
//***********ä¸»å‡½æ•°*************
LinkedNode<int> node = new LinkedNode<int>(111);
LinkedNode<int> node2 = new LinkedNode<int>(222);
node.nextNode = node2;
node2.nextNode = new LinkedNode<int>(333);
node2.nextNode.nextNode = new LinkedNode<int>(444);
Console.WriteLine("Hello World!");
```

å®ç°å•å‘é“¾è¡¨

```c#
//å•é¡¹åˆ—è¡¨èŠ‚ç‚¹
class LinkedNode<T>
{
    public T value;
    //è¿™ä¸ªå­˜å‚¨ä¸‹ä¸€ä¸ªå…ƒç´ æ˜¯è° 
    public LinkedNode<T> nextNode;

    public LinkedNode(T value)
    {
        this.value = value;
    }
}
//å•å‘é“¾è¡¨ç±»
class LinkedList <T>
{
    public LinkedNode<T> head;
    public LinkedNode<T> last;

    public void Add(T value)
    {
        //æ–°èŠ‚ç‚¹å¼€æˆ¿
        LinkedNode<T> node = new LinkedNode<T>(value);
        //å¦‚æœå¤´èŠ‚ç‚¹æ˜¯ç©ºåˆ™å¤´å’Œå°¾éƒ½æ˜¯è¯¥èŠ‚ç‚¹
        if (head == null)
        {
            head = node;
            last = node;
        }
        //å¦‚æœå¤´èŠ‚ç‚¹ä¸ä¸ºç©ºåˆ™å°†è¯¥èŠ‚ç‚¹åŠ åˆ°å°¾èŠ‚ç‚¹å
        //å¹¶ä½¿è¯¥èŠ‚ç‚¹ä¸ºå°¾èŠ‚ç‚¹
        else
        {
            last.nextNode = node;
            last = node;
        }
    }

    public void Remove(T value)
    {
        //å¦‚æœå¤´èŠ‚ç‚¹æ˜¯ç©ºåˆ™è¿”å›
        if (head == null)
        {
            return;
        }
        //å¦‚æœå¤´èŠ‚ç‚¹çš„å…ƒç´ ä¸è¦ç§»é™¤çš„å…ƒç´ ä¸€è‡´
        //ä½¿å¤´èŠ‚ç­‰äºå¤´èŠ‚ç‚¹çš„ä¸‹ä¸€ä¸ªèŠ‚ç‚¹
        if (head.value.Equals(value))
        {
            head = head.nextNode;
            //å¦‚æœå¤´èŠ‚ç‚¹è¢«ç§»é™¤åä¸ºç©º
            //è¯æ˜åªæœ‰ä¸€ä¸ªèŠ‚ç‚¹ é‚£å°¾èŠ‚ç‚¹ä¹Ÿè¦ä¸ºç©º
            if (head == null)
            {
                last = null; 
            }
            return;
        }


        //å¦‚æœä¸­èŠ‚ç‚¹çš„å…ƒç´ ä¸è¦ç§»é™¤çš„å…ƒç´ ä¸€è‡´
        LinkedNode<T> node = head; //å£°æ˜ä¸€ä¸ªä¸´æ—¶å˜é‡ç”¨äºè®¡ç®—
        while (node.nextNode!=null)
        {
            if(node.nextNode.value.Equals(value))
            {
                //è®©å½“å‰æ‰¾åˆ°çš„è¿™ä¸ªå…ƒç´ çš„ä¸Šä¸€ä¸ªèŠ‚ç‚¹
                //æŒ‡å‘è‡ªå·±çš„ä¸‹ä¸€ä¸ªèŠ‚ç‚¹
                node.nextNode = node.nextNode.nextNode;
                break;
            }
            node = node.nextNode;
        }
    }
}
//***********ä¸»å‡½æ•°*************
LinkedList<int> linkedList = new LinkedList<int>();
linkedList.Add(111);
linkedList.Add(222);
linkedList.Add(333);
linkedList.Add(444);
linkedList.Remove(444);
//éå†æŸ¥çœ‹
LinkedNode<int> node = linkedList.head;
while (node != null)
{
    Console.WriteLine(node.value);
    node = node.nextNode;
}
//æ‰“å°ç»“æœä¸º 111 222 333
```

#### åŒå‘é“¾è¡¨

![image.png](03è¿›é˜¶img/1658201995714-b2561095-d287-4fb7-aad9-94f66065392c.png)

#### å¾ªç¯é“¾è¡¨

å•å‘å¾ªç¯

![image.png](03è¿›é˜¶img/1658202013382-f1c9f771-8959-4afe-b15b-483f60695aad.png)

åŒå‘å¾ªç¯

![image.png](03è¿›é˜¶img/1658202022471-cda1311f-c5a3-4b81-8630-4cc79b28a677.png)

## Linkedlist

è¿½åŠ å‘½åç©ºé—´ï¼šusing System.Collections.Generic;

![image.png](03è¿›é˜¶img/1658287428257-2f9728df-aa04-49a1-b766-77d5f7bce469.png)

![image.png](03è¿›é˜¶img/1658287592976-06914f12-370e-4873-8113-b1a3a469696d.png)

### å¢åˆ æŸ¥æ”¹

Previous Next Value
å¢ï¼šAddLast AddFirst AddAfter AddBefore
åˆ ï¼šRemoveFirst RemoveLast Remove Clear
æŸ¥ï¼šFirst Last Find
æ”¹ï¼šValue

```c#
//â­•å¢
//1.åœ¨é“¾è¡¨å°¾éƒ¨æ·»åŠ å…ƒç´ 
linkedList.AddLast(111);
linkedList.AddLast(222);
//2.åœ¨é“¾è¡¨å¤´éƒ¨æ·»åŠ å…ƒç´ 
linkedList.AddFirst(999);
//3.åœ¨æŸä¸€ä¸ªèŠ‚ç‚¹ä¹‹åæ·»åŠ ä¸€ä¸ªèŠ‚ç‚¹
//åœ¨å€¼ä¸º111çš„èŠ‚ç‚¹ååŠ ä¸€ä¸ªå€¼ä¸º112çš„èŠ‚ç‚¹
linkedList.AddAfter(linkedList.Find(111), 112);
//4.åœ¨æŸä¸€ä¸ªèŠ‚ç‚¹ä¹‹å‰æ·»åŠ ä¸€ä¸ªèŠ‚ç‚¹
linkedList.AddBefore(linkedList.Last, 221);

//â­•éå†
//1.ä»å¤´åˆ°å°¾
LinkedListNode<int> nowNode = linkedList.First;
while (nowNode!=null)
{
    Console.WriteLine(nowNode.Value);
    nowNode = nowNode.Next;
}
//æ‰“å°ç»“æœä¸ºï¼š 999 111 112 221 222

//2.ä»å°¾åˆ°å¤´
nowNode = linkedList.Last;
while (nowNode != null)
{
    Console.WriteLine(nowNode.Value);
    nowNode = nowNode.Previous;
}
//æ‰“å°ç»“æœä¸ºï¼š222 221 112 111 999

//3.foreachéå†
foreach (int item in linkedList)
{
    Console.WriteLine(item);
}
//æ‰“å°ç»“æœä¸ºï¼š 999 111 112 221 222

//â­•åˆ 
//1.ç§»é™¤å¤´èŠ‚ç‚¹
linkedList.RemoveFirst();
//2.ç§»é™¤å°¾èŠ‚ç‚¹
linkedList.RemoveLast();
//3.ç§»é™¤æŒ‡å®šèŠ‚ç‚¹
linkedList.Remove(222);
//4.æ¸…ç©º
linkedList.Clear();

linkedList.AddLast(111);
linkedList.AddLast(222);
linkedList.AddLast(333);
linkedList.AddLast(444);


//â­•æŸ¥
//1.å¤´èŠ‚ç‚¹
LinkedListNode<int> frist = linkedList.First;
//2.å°¾èŠ‚ç‚¹
LinkedListNode<int> last = linkedList.Last;
//3.æ‰¾åˆ°æŒ‡å®šå€¼çš„èŠ‚ç‚¹
LinkedListNode<int> node = linkedList.Find(222);
//4.åˆ¤æ–­æ˜¯å¦å­˜åœ¨
if (linkedList.Contains(111))
{
    Console.WriteLine("é“¾è¡¨ä¸­å­˜åœ¨111");
}

//â­•æ”¹
//å…ˆå¾—å†æ”¹
linkedList.First.Value = 100;
(linkedList.Find(222)).Value = 200;
//linkedListä¸­å…ƒç´ ä¸ºï¼š 100 200 333 444
```

## æ³›å‹ Stack(æ ˆ) & Queue(é˜Ÿåˆ—)

![image.png](03è¿›é˜¶img/1658313452848-49901fd9-b212-4a50-814e-0226b42adaea.png)

![image.png](03è¿›é˜¶img/1658313483898-8b3c9fd9-62c9-4a1c-818b-2584d8e3d5db.png)

![image.png](03è¿›é˜¶img/1658313561402-1660c545-5b4b-405d-b6b0-a08092c01146.png)

![image.png](03è¿›é˜¶img/1658313699996-f9fdd5c0-e2c8-46e3-abb8-bd01d417b9ed.png)

è¿½åŠ å‘½åç©ºé—´ï¼šusing System.Collections.Generic;
å£°æ˜å ä½¿ç”¨æ–¹å¼ä¸ æ ˆå’Œé˜Ÿåˆ—ä¸€æ¨¡ä¸€æ ·

```c#
Stack <int> stake = new Stack<int>();
Queue <object> queue = new Queue<object>();
```



# å§”æ‰˜&äº‹ä»¶

## å§”æ‰˜

å§”æ‰˜å˜é‡æ˜¯å‡½æ•°çš„å®¹å™¨ è£…è½½ä¼ é€’å‡½æ•°çš„å®¹å™¨
å­˜å‚¨è¡Œä¸º è§‚å¯Ÿè€…è®¾è®¡æ¨¡å¼
å§”æ‰˜æ”¯æŒæ³›å‹

![image.png](03è¿›é˜¶img/1658370192411-a8fb6ef4-7371-49f2-acd4-3890c90b2f82.png)

### åŸºæœ¬è¯­æ³•

å…³é”®å­—ï¼šdelegate

![image.png](03è¿›é˜¶img/1658370231692-7db904d1-78e6-45c0-aa1d-1d55d92a3408.png)

![image.png](03è¿›é˜¶img/1658370334411-bbe9e1c8-00c9-41dd-b650-b9c445706b37.png)

```c#

namespace Func
{
    public delegate void MyDel();//å£°æ˜ä¸€ä¸ªè‡ªå®šä¹‰å§”æ‰˜
    class Program
    {
        static void Main(string[] args)
        {
            //ä¸¤ç§å£°æ˜æ–¹å¼
            MyDel say1 = SayHi;
            MyDel say2 = new MyDel(SayHi);
            //ä½¿ç”¨å§”æ‰˜
            say1();
            say2();
        }
        static void SayHi()
        {
            Console.WriteLine("hi");
        }
    }
}
```

æ‰©å±•

```c#

namespace Func
{
    public delegate int MyDel(int num);//å£°æ˜ä¸€ä¸ªè‡ªå®šä¹‰å§”æ‰˜
    class Program
    {
        static int Add1(int a)
        {
            int b = 10 + a;
            Console.WriteLine("â€”â€”Add1â€”â€”â€”");
            return b;
 
        }
 
        static int Add2(int a)
        {
            int b = 10 - a;
            Console.WriteLine("â€”â€”Add2â€”â€”â€”");
            return b;
 
        }
 
        static void Calculate(MyDel ex, int a)
        {
            int result = ex(a);
            Console.WriteLine(result + "\n");
        }
 
        static void Main(string[] args)
        {
            Calculate(Add1, 1);
            Calculate(Add2, 10);
            Console.ReadKey();
        }
    }

}
```

### å¤šæ’­å§”æ‰˜

ä½¿ç”¨+=è¿ç®—ç¬¦ ä¸ºå§”æ‰˜æ–°å¢æ–¹æ³•
ä½¿ç”¨-=è¿ç®—ç¬¦ ä¸ºå§”æ‰˜ç§»é™¤æ–¹æ³•
ä½¿ç”¨=null ä¸ºå§”æ‰˜æ¸…ç©ºæ–¹æ³•

```c#

namespace Func
{
    public delegate int MyDel(int num);//å£°æ˜ä¸€ä¸ªè‡ªå®šä¹‰å§”æ‰˜
    class Program
    {
 
        static int Add1(int a)
        {
            int b = 10 + a;
            Console.WriteLine("â€”â€”Add1â€”â€”â€”");
            return b;
 
        }
 
        static int Add2(int a)
        {
            int b = 10 - a;
            Console.WriteLine("â€”â€”Add2â€”â€”â€”");
            return b;
 
        }
 
        static void Calculate(MyDel ex, int a)
        {
            int result = ex(a);
            Console.WriteLine(result + "\n");
        }
 
        static void Main(string[] args)
        {
            //Calculate(Add1, 1);
            //Calculate(Add2, 10);
            MyDel myDel = Add1;
            myDel += Add2;
            Calculate(myDel, 10);
            //è¿™æ ·å°±ä¼šä¾æ¬¡æ‰§è¡ŒAdd1 Add2
            Console.ReadKey();
        }
    }
}
```

### ç³»ç»Ÿå¸¸ç”¨çš„å§”æ‰˜

Action æ— å‚æ— è¿”
Action\<,> æœ‰å‚æ— è¿” å¯ä»¥ä¼ å¤šä¸ªå‚æ•°
Func<> æ— å‚æœ‰è¿”
Func\<,> æœ‰å‚æœ‰å å¯ä»¥ä¼ å¤šä¸ªå‚æ•° æœ€åä¸€ä¸ªæ˜¯è¿”å›å€¼

```c#
using System;
namespace Func
{
    class Program
    {

        static int Add1(int a)
        {
            int b = 10 + a;
            Console.WriteLine("â€”â€”Add1â€”â€”â€”");
            return b;

        }
        
        static void Calculate(Func<int,int> ex, int a)
        {
            int result = ex(a);
            Console.WriteLine(result + "\n");
        }

        static void Main(string[] args)
        {
            //ä½¿ç”¨ç³»ç»Ÿè‡ªå¸¦çš„ æœ‰å‚æœ‰è¿”å§”æ‰˜
            Func<int, int> myDel = Add1;
            Calculate(myDel, 10);
            Console.ReadKey();
        }
    }
}
```



## äº‹ä»¶

å…³é”®å­—ï¼ševent
äº‹ä»¶ç›¸å½“äºå¯¹å§”æ‰˜è¿›è¡Œäº†ä¸€æ¬¡å°è£… è®©å…¶ä¸èƒ½è¢«å¤–éƒ¨ç½®ç©ºå’Œè°ƒç”¨ æ›´å®‰å…¨

![image.png](03è¿›é˜¶img/1658396149435-43e8601d-ee10-41c0-9cb2-f30bce05401b.png)

![image.png](03è¿›é˜¶img/1658396200693-a8a815f9-25dd-498f-a096-5133bb39f464.png)

![image.png](03è¿›é˜¶img/1658398715788-869e5cc5-51de-4e57-beb4-054720b02e12.png)

```c#
namespace Lesson_07_äº‹ä»¶
{
    class Test
    {
        //å§”æ‰˜æˆå‘˜å˜é‡ ç”¨äºå­˜å‚¨å‡½æ•°
        public Action myFun;
        //äº‹ä»¶æˆå‘˜å˜é‡ ç”¨äºå­˜å‚¨å‡½æ•°
        public event Action myEvent;
        
        public void TestFun()
        {
            Console.WriteLine("1111111111");
        }
        public Test()
        {
            //äº‹ä»¶å’Œå§”æ‰˜çš„ä½¿ç”¨ ä¸€æ¨¡ä¸€æ ·
            myFun = TestFun;
            myFun += TestFun;
            myFun -= TestFun;
            myFun();
            myFun.Invoke();
            myFun = null;

            myEvent = TestFun;
            myEvent += TestFun;
            myEvent -= TestFun;
            myEvent();
            myEvent.Invoke();
            myEvent = null;
        }
        
        //äº‹ä»¶è¦åœ¨å¤–éƒ¨ä½¿ç”¨ è¦å…ˆåœ¨ç±»çš„å†…éƒ¨å°è£…è°ƒç”¨
        public void DoEvent()
        {
            myEvent();
        }
        
    }
    class Program
    {
        static void TestFun2()
        {
            Console.WriteLine("1111111111");
        }

        static void Main(string[] args)
        {
            Test t = new Test();

            //å§”æ‰˜å¯ä»¥åœ¨å¤–éƒ¨èµ‹å€¼
            t.myFun = null;
            t.myFun = TestFun2;
            //äº‹ä»¶ä¸å¯ä»¥åœ¨å¤–éƒ¨èµ‹å€¼
            //t.myEvent = null; âŒâŒâŒ
            //t.myEvent = TestFun2; âŒâŒâŒ
            //è™½ç„¶ä¸èƒ½ç›´æ¥èµ‹å€¼ä½†æ˜¯å¯ä»¥+= -=
            t.myEvent += TestFun2;
            t.myEvent -= TestFun2;
            
            //å§”æ‰˜å¯ä»¥åœ¨å¤–éƒ¨è°ƒç”¨
            t.myFun();
            t.myFun.Invoke();
            //äº‹ä»¶ä¸å¯ä»¥åœ¨å¤–éƒ¨è°ƒç”¨
            //t.myEvent();        âŒâŒâŒ
            //t.myEvent.Invoke(); âŒâŒâŒ
            //åªèƒ½åœ¨ç±»çš„å†…éƒ¨å°è£…è°ƒç”¨
            t.DoEvent();
            
            //å§”æ‰˜ å¯ä»¥ä½œä¸ºä¸´æ—¶å˜é‡åœ¨å‡½æ•°ä¸­ä½¿ç”¨çš„
            Action a = TestFun2;
            //äº‹ä»¶ æ˜¯ä¸èƒ½ä½œä¸ºä¸´æ—¶å˜é‡åœ¨å‡½æ•°ä¸­ä½¿ç”¨çš„
            //event Action ae = TestFun2; âŒâŒâŒ
        }
    }
}
```



## åŒ¿åå‡½æ•°

å…³é”®å­—ï¼šdelegate

![image.png](03è¿›é˜¶img/1658399149706-73984064-f850-4808-a12f-19f8103e3a80.png)

### åŸºæœ¬è¯­æ³•

![image.png](03è¿›é˜¶img/1658399237064-15f8c619-cce7-4397-9b18-0b0bf8f27cdf.png)

```c#
class Program
{
    static void Main(string[] args)
    {
        //åŒ¿åå‡½æ•°
        //1.â­•æ— å‚æ— è¿”
        Action action = delegate ()
        {
            Console.WriteLine("åŒ¿åå‡½æ•°é€»è¾‘");
        };
        
        //2.â­•æœ‰å‚
        Action<int, string> action2 = delegate (int x, string s)
        {
            Console.WriteLine(x);
            Console.WriteLine(s);
        };
        
        //3.â­•æœ‰è¿”å›å€¼
        Func<int> func = delegate ()
        {
            Console.WriteLine("åŒ¿åå‡½æ•°é€»è¾‘");
            return 10;
        };

        //4.â­•ä¸€èˆ¬æƒ…å†µä½œä¸ºå‚æ•°ä¼ é€’ æˆ–è€… ä½œä¸ºå‡½æ•°è¿”å›å€¼
        Test t = new Test();
        //å‚æ•°ä¼ é€’
        Action ac = delegate ()
        {
            Console.WriteLine("éšå‚æ•°ä¼ å…¥çš„åŒ¿åå‡½æ•°é€»è¾‘");
        };
        t.Dosomthing(50, ac);
            //ä¸€éƒ¨åˆ°ä½å†™æ³•
        t.Dosomthing(100, delegate ()
        {
            Console.WriteLine("éšå‚æ•°ä¼ å…¥çš„åŒ¿åå‡½æ•°é€»è¾‘");
        });
        
        //è¿”å›å€¼
        Action ac2 = t.GetFun();
        ac2();
            //ä¸€éƒ¨åˆ°ä½å†™æ³•
        t.GetFun()();
    }
}

class Test
{
    public Action action1;

    //ä½œä¸ºå‚æ•°ä¼ é€’æ—¶
    public void Dosomthing(int a,Action fun)
    {
        Console.WriteLine(a);
        fun();
    }
    //ä½œä¸ºè¿”å›å€¼
    public Action GetFun()
    {
        return delegate ()
        {
            Console.WriteLine("å‡½æ•°å†…éƒ¨è¿”å›çš„åŒ¿åå‡½æ•°é€»è¾‘");
        };
    }
}
```

ä½œä¸š

![image.png](03è¿›é˜¶img/1658419941405-806458f7-a382-4cef-b5fa-ed75bb76708c.png)

```c#
class Program
{
    static void Main(string[] args)
    {
        //å†™æ³•1
        int mul = InIntOutFun(10)(20);
        //å†™æ³•2
        mul = InIntOutFun(10).Invoke(20);
        
        Console.WriteLine(mul); 
    }

    //å†™ä¸€ä¸ªå‡½æ•°ä¼ å…¥ä¸€ä¸ªæ•´æ•°ï¼Œè¿”å›ä¸€ä¸ªå‡½æ•°
    //ä¹‹åæ‰§è¡Œè¿™ä¸ªå‡½æ•°æ—¶ä¼ å…¥ä¸€ä¸ªæ•´æ•°å’Œä¹‹å‰é‚£ä¸ªå‡½æ•°ä¼ å…¥çš„æ•°ç›¸ä¹˜
    //è¿”å›ç»“æœ
    static Func<int,int> InIntOutFun (int a)
    {
        return delegate (int b)
        {
            return a * b;
        };
    }
}
```

### åŒ¿åå‡½æ•°çš„ç¼ºç‚¹

æ·»åŠ åˆ°å§”æ‰˜æˆ–äº‹ä»¶å®¹å™¨å ä¸è®°å½• æ— æ³•å•ç‹¬ç§»é™¤ï¼ˆå› ä¸ºæ²¡æœ‰åå­—ï¼‰



## Lambdaè¡¨è¾¾å¼

å…³é”®å­—ï¼šlambda
ç”¨æ³•å’ŒåŒ¿åå‡½æ•°ä¸€æ ·

![image.png](03è¿›é˜¶img/1658455639123-8af9589d-67c4-4f07-b37f-dc2ca5a2844d.png)

![image.png](03è¿›é˜¶img/1658455703859-07ef1fe7-9099-473f-9ea0-1b6bc9810103.png)

### åŸºæœ¬è¯­æ³•

```c#
//1.æ— å‚æ— è¿”å›
Action a = () =>
{
    Console.WriteLine("æ— å‚æ— è¿”å›å€¼çš„lambdaè¡¨è¾¾å¼");
};
a();
//2.æœ‰å‚
Action<int> a2 = (int value) =>
{
    Console.WriteLine("æœ‰å‚çš„lambdaè¡¨è¾¾å¼");
};
a2(10);
//3.æœ‰å‚ çœç•¥å‚æ•°ç±»å‹çš„å†™æ³•
Action<int> a3 = (value) =>
{
    Console.WriteLine("çœç•¥å‚æ•°ç±»å‹çš„å†™æ³•");
};
a3(300);
//4.æœ‰è¿”å›å€¼
Func<string, int> a4 = (value) =>
{
    Console.WriteLine("æœ‰è¿”å›å€¼çš„lambdaè¡¨è¾¾å¼");
    return 20;

};
Console.WriteLine(a4("1"));
```

### é—­åŒ…

![image.png](03è¿›é˜¶img/1658456677123-c2089752-3bd3-499d-a113-30b204a9ec8c.png)

å§”æ‰˜ä¸­çš„æ–¹æ³•å¼•ç”¨äº†åŒ…å«åœ¨ä»–å¤–é¢çš„å‡½æ•°çš„ä¸´æ—¶å˜é‡æ—¶ ä¸´æ—¶å˜é‡å°±ä¼šå­˜è¿›å †é‡Œ
ä¸€ç›´éƒ½ä¸ä¼šé‡Šæ”¾ ç”Ÿå‘½å‘¨æœŸè¢«æ”¹å˜äº†
ä¸´æ—¶å˜é‡è¢«åŒ…è£¹è¿›äº‹ä»¶å‡½æ•°å­˜èµ·æ¥äº†

```c#
//é—­åŒ…
class Test
{
    public event Action action;

    public Test()
    {
        int value = 10;
        //è¿™é‡Œå°±å½¢æˆé—­åŒ…
        //å½“æ„é€ å‡½æ•°æ‰§è¡Œå®Œæ¯•æ—¶ 
        //å…¶ä¸­ç”³æ˜çš„ä¸´æ—¶å˜é‡valueçš„ç”Ÿå‘½å‘¨æœŸè¢«æ”¹å˜äº†
        action = () =>
        {
            //å†…å±‚å‡½æ•°å¯ä»¥å¼•ç”¨åŒ…å«åœ¨ä»–å¤–å±‚çš„å‡½æ•°
            //å¼•ç”¨äº†å¤–å±‚å‡½æ•°çš„a
            Console.WriteLine(value);
        };
        action();

        for (int i = 0; i < 10; i++)
        {
            action += () =>
            {
                Console.WriteLine(i);
            };
        }
        action();
        //æœ€ç»ˆä¼šæ‰“å°10 10 10 10 10 10 10 10 10 10 10
        
        for (int i = 0; i < 10; i++)
        {
            //æ¯æ¬¡å¾ªç¯éƒ½ä¼šå®ä¾‹ä¸€ä¸ªindex 
            //æ‰€ä»¥ä¼šå®ä¾‹åä¸ªindex
            int index = i;
            action += () =>
            {
                Console.WriteLine(index);
            };
        }
        action();
        //æœ€ç»ˆä¼šæ‰“å° 0 1 2 3 4 5 6 7 8 9 
    }
}
```

ä½œä¸š

![image.png](03è¿›é˜¶img/1658460756762-469ec70d-202c-4d5e-9069-de02c69111ec.png)

```c#
static Action aaa()
{
    Action aaaaa;
    aaaaa = () => { };
    for (int i = 1; i < 11; i++)
    {
        int innnt = i;
        aaaaa += () =>
        {
            Console.WriteLine(innnt);
        };
    }
    return aaaaa;
}

aaa()();
```

# Listæ’åº

å…³é”®å­—ï¼šSort
ç³»ç»Ÿè‡ªå¸¦çš„å˜é‡ä¸€èˆ¬éƒ½å¯ä»¥ç›´æ¥Sort
è‡ªå®šä¹‰ç±»Sortæœ‰ä¸¤ç§æ–¹å¼
â—åœ¨ç±»ä¸­ç»§æ‰¿æ¥å£ IComparable
â—åœ¨Sortä¸­ä¼ å…¥å§”æ‰˜å‡½æ•°
## ç³»ç»Ÿé»˜è®¤çš„æ’åºæ–¹æ³•

ä¸€èˆ¬åªèƒ½æ’åºint float double

```c#

ListÂ listÂ =Â newÂ List();
list.Add(4);
list.Add(3);
list.Add(5);
list.Add(2);
list.Add(1);
list.Add(6);

//Listæä¾›çš„æ’åºæ–¹æ³•
list.Sort();
forÂ (intÂ iÂ =Â 0;Â iÂ \<Â list.Count;Â i++)
{
Â Â Â Â Console.WriteLine(list[i]);
}
//æ‰“å°ç»“æœä¸º 1 2 3 4 5 6
//ArrayListä¸­ä¹Ÿæœ‰Sortæ’åºæ–¹æ³•

```

## è‡ªå®šä¹‰ç±»çš„æ’åº1

é€šè¿‡ç»§æ‰¿IComparableæ¥å£æ’åº

```c#
class Item :IComparable<Item>
{
    public int money;

    public Item (int money)
    {
        this.money = money;
    }

    //è¦å®ç°ç±»æ’åºå¿…é¡»ç»§æ‰¿IComparableæ¥å£å®ç°å…¶æ–¹æ³•
    public int CompareTo(Item other)
    {
        //è¿”å›å€¼çš„å«ä¹‰
        //å°äº0ï¼šæ”¾åœ¨ä¼ å…¥å¯¹è±¡çš„å‰é¢
        //ç­‰äº0ï¼šä¿æŒå½“å‰ä½ç½®ä¸å˜
        //å¤§äº0ï¼šæ”¾åœ¨ä¼ å…¥å¯¹è±¡çš„åé¢

        //å¯ä»¥ç®€å•ç†è§£ä¸º ä¼ å…¥å¯¹è±¡çš„ä½ç½®å°±æ˜¯0
        //å¦‚æœè¿”å›è´Ÿæ•° å°±æ”¾åœ¨å®ƒçš„å·¦è¾¹ï¼ˆå‰é¢ å‡åºï¼‰
        //å¦‚æœè¿”å›æ­£æ•° å°±æ”¾åœ¨å®ƒçš„å³è¾¹ ï¼ˆåé¢ é™åºï¼‰
        if (this.money>other.money)
        {
            return 1;
        }
        else
        {
            return -1;
        }
    }
}
class Program
{
    static void Main(string[] args)
    {
        //è‡ªå®šä¹‰ç±»çš„æ’åº
        List<Item> itemList = new List<Item>();
        itemList.Add(new Item(100));
        itemList.Add(new Item(54));
        itemList.Add(new Item(345));
        itemList.Add(new Item(23));
        itemList.Add(new Item(11));
        itemList.Add(new Item(77));
        //æ’åºæ–¹æ³• åœ¨ç±»ä¸­è¦ç»§æ‰¿IComparableæ¥å£
        itemList.Sort();
        for (int i = 0; i < itemList.Count; i++)
        {
            Console.WriteLine(itemList[i].money);
        }
    }
}
```

## è‡ªå®šä¹‰ç±»çš„æ’åº2

é€šè¿‡å§”æ‰˜å‡½æ•°è¿›è¡Œæ’åº

```c#
class ShopItem
{
    public int id;

    public ShopItem(int id)
    {
        this.id = id;
    }
}

class Program
{
    static void Main(string[] args)
    {
        List<ShopItem> shopItemsList = new List<ShopItem>();
        shopItemsList.Add(new ShopItem(3));
        shopItemsList.Add(new ShopItem(5));
        shopItemsList.Add(new ShopItem(6));
        shopItemsList.Add(new ShopItem(2));
        shopItemsList.Add(new ShopItem(1));
        shopItemsList.Add(new ShopItem(4));
        //é€šè¿‡ä¼ å…¥å‡½æ•°çš„æ’åºæ–¹æ³•
        shopItemsList.Sort(SortShopItems);
        //æˆ–è€…é€šè¿‡lambdaè¡¨è¾¾å¼æˆ–è€…åŒ¿åå‡½æ•°å’Œä¸‰ç›®è¿ç®—ç¬¦çš„ç®€ä¾¿å†™æ³•çœå»å£°æ˜å‡½æ•°
        //shopItemsList.Sort((a, b) =>{return a.id > b.id ? 1 : -1;});
    
        for (int i = 0; i < shopItemsList.Count; i++)
        {
            Console.WriteLine(shopItemsList[i].id);
        }
        //æ‰“å°ç»“æœä¸º 1 2 3 4 5 6 
    }
    
    //Sortè§„å®šçš„å§”æ‰˜å‡½æ•°å†™æ³•
    static int SortShopItems(ShopItem a,ShopItem b)
    {
        //ä¼ å…¥çš„ä¸¤ä¸ªå¯¹è±¡ä¸ºåˆ—è¡¨ä¸­çš„ä¸¤ä¸ªå¯¹è±¡
        //è¿›è¡Œä¸¤ä¸¤æ¯”è¾ƒ ç”¨å·¦è¾¹çš„æ¡ä»¶ å’Œå³è¾¹çš„æ¡ä»¶æ¯”è¾ƒ
        //è¿”å›è§„åˆ™ 0åšæ ‡å‡† è´Ÿæ•°åœ¨å·¦ï¼ˆå‰å‡åºï¼‰ æ­£æ•°åœ¨å³ï¼ˆå³åé™åºï¼‰
        if (a.id>b.id)
        {
            return 1;
        }
        else
        {
            return -1;
        }
    }
}
```

ä½œä¸š

![image.png](03è¿›é˜¶img/1658571436444-894bf153-833e-467b-aa8c-76337a61d791.png)

```c#
class Monsther
{
    public string name;
    public int atk;
    public int def;
    public int hp;
        
    public Monsther(string name ,int atk,int def ,int hp)
    {
        this.name = name;
        this.atk = atk;
        this.def = def;
        this.hp = hp;
    }
}

class Program
{
    static void Main(string[] args)
    {
        //å£°æ˜å¹¶åˆå§‹åŒ–æ€ªç‰©ç±»åˆ—è¡¨
        List<Monsther> monsthersList = new List<Monsther>();
        monsthersList.Add(new Monsther("æ€ªç‰©01",99, 20, 50));
        monsthersList.Add(new Monsther("æ€ªç‰©02", 70, 50, 60));
        monsthersList.Add(new Monsther("æ€ªç‰©03", 10, 50, 90));
        monsthersList.Add(new Monsther("æ€ªç‰©04", 90, 90, 10));
        monsthersList.Add(new Monsther("æ€ªç‰©05", 70, 50, 40));
        monsthersList.Add(new Monsther("æ€ªç‰©06",30, 30, 30));
        monsthersList.Add(new Monsther("æ€ªç‰©07", 90, 90, 90));
        monsthersList.Add(new Monsther("æ€ªç‰©08", 70, 80, 90));
        monsthersList.Add(new Monsther("æ€ªç‰©09", 10, 10, 10));
        monsthersList.Add(new Monsther("æ€ªç‰©10", 20, 10, 50));
        
        //æ‰“å°æ–¹æ³•
        void Print()
        {
            for (int i = 0; i < monsthersList.Count; i++)
            {
                Console.WriteLine("{0}ï¼šæ”»å‡»åŠ›{1}ï¼Œé˜²å¾¡åŠ›{2}ï¼Œè¡€é‡{3}",
                monsthersList[i].name,
                monsthersList[i].atk,
                monsthersList[i].def,
                monsthersList[i].hp);
            }
        }
        try
        {
            while (true)
            {
                Print();
                Console.WriteLine("********è¯·è¾“å…¥æ’åºæ–¹å¼*********\n 1ä¸ºæ”»å‡»æ’åº 2ä¸ºé˜²å¾¡æ’åº 3ä¸ºè¡€é‡æ’åº 4ä¸ºåè½¬å½“å‰æ’åº");
                //æ£€æµ‹è¾“å…¥
                int SortIndex = int.Parse(Console.ReadLine());
                Console.Clear();
                //å¯¹åº”è¾“å…¥å¯¹åº”é€»è¾‘
                switch (SortIndex)
                {
                    case 1:
                        monsthersList.Sort((a, b) => { return a.atk>b.atk ? -1:1 ;});
                        Print();
                        break;
                    case 2:
                        monsthersList.Sort((a, b) => { return a.def > b.def ? -1 : 1; });
                        Print();
                        break;
                    case 3:
                        monsthersList.Sort((a, b) => { return a.hp > b.hp ? -1 : 1; });
                        Print();
                        break;
                    case 4:
                        //ä½¿ç”¨æ ˆçš„ç‰¹æ€§æ¥åè½¬æ’åº
                        Stack<Monsther> monsthersStack = new Stack<Monsther>();
                        for (int i = 0; i < monsthersList.Count; i++)
                        {
                            monsthersStack.Push(monsthersList[i]);
                        }
                        for (int i = 0; i < monsthersList.Count; i++)
                        {
                            monsthersList[i]=monsthersStack.Pop();
                        }
                        Print();
                        break;
                    default:
                        Console.WriteLine("è¯·è¾“å…¥åˆæ³•æ•°å­— 1ä¸ºæ”»å‡»æ’åº 2ä¸ºé˜²å¾¡æ’åº 3ä¸ºè¡€é‡æ’åº 4ä¸ºåè½¬å½“å‰æ’åº");
                        break;
                }
            }
        }
        catch
        {

            Console.WriteLine("è¯·è¾“å…¥åˆæ³•æ•°å­— 1ä¸ºæ”»å‡»æ’åº 2ä¸ºé˜²å¾¡æ’åº 3ä¸ºè¡€é‡æ’åº 4ä¸ºåè½¬å½“å‰æ’åº");
        }
            
    }
}
```



# åå˜é€†å˜

å…³é”®å­—ï¼šout ï¼ˆåå˜ï¼‰ inï¼ˆé€†å˜ï¼‰
ç”¨äºä¿®é¥°æ³›å‹æ›¿ä»£ç¬¦**åªèƒ½ä¿®é¥°æ¥å£å’Œå§”æ‰˜ä¸­çš„æ³›å‹**

![image.png](03è¿›é˜¶img/1658572154891-c2f437b9-3009-4bad-a4c2-7375f7f0db58.png)

![image.png](03è¿›é˜¶img/1658594505284-ca329233-d2b3-43c2-bc7b-cb7c9f590cc2.png)

![image.png](03è¿›é˜¶img/1658596854815-d96d695e-ed1f-4727-a3d2-10ca4f30460d.png)

è¿”å›å€¼å’Œå‚æ•°
â—outä¿®é¥°çš„æ³›å‹ åªèƒ½ä½œä¸ºè¿”å›å€¼
â—inä¿®é¥°çš„æ³›å‹ åªèƒ½ä½œä¸ºå‚æ•°

```c#
//â­•outä¿®é¥°çš„æ³›å‹ åªèƒ½ä½œä¸ºè¿”å›å€¼
delegate T TestOut<out T>();
//â­•inä¿®é¥°çš„æ³›å‹ åªèƒ½ä½œä¸ºå‚æ•°
delegate void TestIn<in T>(T t);  
```

ç»“åˆé‡Œæ°æ›¿æ¢ å°‘ç”¨
â—åå˜ï¼šç”¨çˆ¶ç±»æ³›å‹å§”æ‰˜è£…å­ç±»æ³›å‹å§”æ‰˜
â—é€†å˜ï¼šç”¨å­ç±»æ³›å‹å§”æ‰˜è£…çˆ¶ç±»æ³›å‹å§”æ‰˜

```c#
delegate T TestOut<out T>();
delegate void TestIn<in T>(T t);

class Father { }
class Son:Father { }

class Program
{
    static void Main(string[] args)
    {
        //åå˜ çˆ¶ç±»èƒ½æ›¿ä»£å­ç±»ï¼ˆè¾“å‡ºç±»å‹å‘ä¸Šè½¬æ¢ï¼‰
        TestOut<Son> os = () =>
        {
            return new Son();
        };
        TestOut<Father> of = os;
        Father f = of(); //å®é™…è¿”å›çš„æ˜¯osé‡Œè½¬çš„å‡½æ•° è¿”å›çš„æ˜¯Son

        //é€†å˜ å­ç±»èƒ½æ›¿ä»£çˆ¶ç±»ï¼ˆè¾“å…¥ç±»å‹å‘ä¸‹è½¬æ¢ï¼‰
        //çœ‹èµ·æ¥åƒæ˜¯fatherâ€”â€”>son æ˜æ˜æ˜¯ä¼ çˆ¶ç±» ä½†å´ä¼ å­ç±» ä¸å’Œè°çš„
        TestIn<Father> inf = (value) =>
        {

        };
        TestIn<Son> ins = inf;
        ins(new Son()); //å®é™…ä¸Šè°ƒç”¨çš„æ˜¯inf
        Console.WriteLine("Hello World!");
    }
}
```



# å¤šçº¿ç¨‹

è¿½åŠ å‘½åç©ºé—´ï¼šusing System.Threading;
å…³é”®å­—ï¼šThread

![image.png](03è¿›é˜¶img/1658713641845-a79293ee-542d-4ad7-9ab1-183cd927c7c5.png)

![image.png](03è¿›é˜¶img/1658713839894-5525fff4-3289-45c5-9b24-9236ebb29948.png)

![image.png](03è¿›é˜¶img/1658714112731-790b1f15-3ee9-41f1-bacf-58773e5f1bfe.png)

![image.png](03è¿›é˜¶img/1658714118867-11a43512-2fea-4c42-9716-5fde043d5471.png)

## åŸºæœ¬è¯­æ³•

![image.png](03è¿›é˜¶img/1658714531937-4482e108-ea6c-4805-88e2-0c85344598a0.png)

![image.png](03è¿›é˜¶img/1658714878876-9341ab1d-0b9b-4928-bb59-442af8e38634.png)

![image.png](03è¿›é˜¶img/1658716085966-e233bfc9-5d2a-4fe2-9dc6-a3737439db6b.png)

![image.png](03è¿›é˜¶img/1658716685726-db9d4075-9d2f-420a-81c1-fea88fe42ec7.png)

![image.png](03è¿›é˜¶img/1658717081957-4b5b9ac5-a3b9-4dbb-b166-43e9a83c53f8.png)

```c#
static bool isRuning = true;

static void Main(string[] args)
{
    //1.å£°æ˜ä¸€ä¸ªæ–°çº¿ç¨‹
    //æ–°çº¿ç¨‹è¦æ‰§è¡Œçš„é€»è¾‘å°è£…åœ¨ä¸€ä¸ªå‡½æ•°ä¸­ä¼ å…¥
    Thread t = new Thread(NewThreadLogic);

    //2.å¯åŠ¨çº¿ç¨‹
    t.Start();

    //3.è®¾ç½®ä¸ºåå°çº¿ç¨‹
    t.IsBackground = true;

    //4.å…³é—­çº¿ç¨‹å¦‚æœä¸æ˜¯æ­»å¾ªç¯ä¸ç”¨åˆ»æ„ç®¡ t=null
    //æ­»å¾ªç¯ä¸­boolæ ‡è¯†
    Console.ReadKey();
    isRuning = false;
    Console.ReadKey();
    //é€šè¿‡æä¾›çš„æ–¹æ³• æ§åˆ¶å°è¿™ä¸ªç‰ˆæœ¬ä¼šæŠ¥é”™
    //t.Abort();

    //5.çº¿ç¨‹ä¼‘çœ 
    //è®©å½“å‰çº¿ç¨‹(Main) ä¼‘çœ  æ¯«ç§’
    //Thread.Sleep(1000);


}

static void NewThreadLogic ()
{
    while (isRuning)
    {
        //5.çº¿ç¨‹ä¼‘çœ 
        //è®©å½“å‰çº¿ç¨‹(Main) ä¼‘çœ  æ¯«ç§’
        Thread.Sleep(1000);
        Console.WriteLine("æ–°çº¿ç¨‹é€»è¾‘");
    }

}
```

![image.png](03è¿›é˜¶img/1658717380564-61f53741-71dc-4e1c-81f2-84a5adaa1729.png)

```c#
static object obj = new object();

static void Main(string[] args)
{
    //1.å£°æ˜ä¸€ä¸ªæ–°çº¿ç¨‹
    Thread t = new Thread(NewThreadLogic);
    //2.å¯åŠ¨çº¿ç¨‹
    t.Start();
    //3.è®¾ç½®ä¸ºåå°çº¿ç¨‹
    t.IsBackground = true;

    while (true)
    {
        lock(obj)
        {
            Console.SetCursorPosition(0, 0);
            Console.ForegroundColor = ConsoleColor.Red;
            Console.Write("â–²");
        }
    }
}

static void NewThreadLogic ()
{
    while (true)
    {
        lock (obj)
        {
            Console.SetCursorPosition(10, 5);
            Console.ForegroundColor = ConsoleColor.Yellow;
            Console.Write("â– ");
        }
    }
}
```

## çº¿ç¨‹çš„ä½œç”¨

æ”¹å–„æ€§èƒ½ å°½å¯èƒ½åœ°åˆ©ç”¨ CPU èµ„æºï¼Œå……åˆ†åˆ©ç”¨ CPU ï¼Œä»è€Œæé«˜æ€§èƒ½ã€‚

![image.png](03è¿›é˜¶img/1658718143290-783c1d7d-c8b2-494b-8cab-7e241f874686.png)



# é¢„å¤„ç†å™¨æŒ‡ä»¤

åœ¨å®é™…ç¼–è¯‘ä¹‹å‰å¼€å§‹å¯¹ä¿¡æ¯è¿›è¡Œé¢„å¤„ç†
åœ¨unityä¸­ä¼šè¿›è¡Œä¸€äº›ç‰ˆæœ¬æˆ–å¹³å°çš„åˆ¤æ–­
å…³é”®å­—ï¼š
â—#define
â—#undef
â—#region #endregion
â—#if
â—#elif
â—#else
â—#endif

![image.png](03è¿›é˜¶img/1658800022026-ea689c68-2d4b-49e5-a3aa-44b2cf9e1b44.png)

![image.png](03è¿›é˜¶img/1658800068397-48755f8e-26fb-4b46-80c4-54a94429d9c1.png)

![image.png](03è¿›é˜¶img/1658800273283-1ad4238e-3bd0-4f9a-ad07-4bdafb515027.png)

![image.png](03è¿›é˜¶img/1658800097555-37b8c80b-2f3d-463a-9678-864a3afca21d.png)

```c#
//å®šä¹‰ä¸€ä¸ªç¬¦å·
#define Unity4
#define IOS
#define Android
//å–æ¶ˆå®šä¹‰ä¸€ä¸ªç¬¦å·
#undef Android

//æŠ˜å ä»£ç 
#region å‘½åç©ºé—´
using System;
using System.Threading;
#endregion

namespace Lesson_é¢„å¤„ç†å™¨æŒ‡ä»¤
{
    class Program
    {
        static void Main(string[] args)
        {
//å¦‚æœå®šä¹‰äº†Unity4å’ŒIOSåˆ™æ‰§è¡Œä»¥ä¸‹ä»£ç 
#if Unity4 && IOS
            Console.WriteLine("ç‰ˆæœ¬ä¸ºUnity4 IOS");
            //è­¦å‘Š
            #warning è¿™ä¸ªç‰ˆæœ¬ä¸åˆæ³•
            //æŠ¥é”™
            #error è¿™ä¸ªç‰ˆæœ¬ä¸å‡†æ‰§è¡Œ
#endif
        }
    }
}
```



# åå°„&ç‰¹æ€§

![image.png](03è¿›é˜¶img/1658803989797-2fe10da9-a5c0-41b6-a9fe-e3bfd50a29ac.png)

![image.png](03è¿›é˜¶img/1658804123026-d38587dd-d416-4e5a-8a53-56ef84fddd6d.png)

## åå°„

è¿½åŠ å‘½åç©ºé—´ï¼šusing System.Reflection;

![image.png](03è¿›é˜¶img/1658804138838-cab85c7e-f194-4342-9f56-9ca645615c0e.png)

å¯ä»¥åœ¨ç¨‹åºç¼–è¯‘åè·å¾—ä¿¡æ¯

![image.png](03è¿›é˜¶img/1658804205078-66136693-e751-4a48-97d7-4284eb0e40ac.png)

### Type

è®¿é—®å…ƒæ•°æ®

![image.png](03è¿›é˜¶img/1658804922823-82c244fb-d3fe-4f0c-8568-438d7c3192d7.png)

```c#
using System;
using System.Reflection;

namespace Lesson_13_åå°„å’Œç‰¹æ€§
{
    class Test
    {
        private int i = 1;
        public int j = 10;
        public string str = "ä½ æ˜¯";

        public Test ()
        {

        }
        public Test (int i)
        {
            this.i = i;
        }
        public Test (int i,string str): this(i)
        {
            this.str = str;
        }
        public void Spek()
        {
            Console.WriteLine(i);
        }
    }

    class Program
    {
        static void Main(string[] args)
        {
            //ğŸ”´Type(ç±»çš„ä¿¡æ¯ç±»)//å®ƒæ˜¯åå°„åŠŸèƒ½çš„åŸºç¡€!
            //å®ƒæ˜¯è®¿é—®å…ƒæ•°æ®çš„ä¸»è¦æ–¹å¼ã€‚
            //ä½¿ç”¨Typeçš„æˆå‘˜è·å–æœ‰å…³ç±»å‹å£°æ˜çš„ä¿¡æ¯
            //æœ‰å…³ç±»å‹çš„æˆå‘˜(å¦‚æ„é€ å‡½æ•°ã€æ–¹æ³•ã€å­—æ®µã€å±æ€§å’Œç±»çš„äº‹ä»¶)
            //1.ä¸‡ç‰©ä¹‹çˆ¶objectä¸­GetType()å¯ä»¥è·å–å¯¹è±¡çš„Type
            int a = 42;
            Type type = a.GetType();
            Console.WriteLine(type);
            //2.é€šè¿‡typeofå…³é”®å­— ä¼ å…¥ç±»åä¹Ÿå¯ä»¥å¾—åˆ°å¯¹è±¡çš„Type
            Type type2 = typeof(int);
            Console.WriteLine(type2);
            //3.é€šè¿‡ç±»å è·å–ç±»å‹ è¦åŒ…å«å‘½åç©ºé—´
            Type type3 = Type.GetType("System.Int32");
            Console.WriteLine(type3);

            //å¾—åˆ°ç±»çš„ç¨‹åºé›†
            Console.WriteLine(type.Assembly);

            //è·å–ç±»ä¸­çš„æ‰€æœ‰å…¬å…±æˆå‘˜
            Type t = typeof(Test);
            MemberInfo[] infos = t.GetMembers();
            for (int i = 0; i < infos.Length; i++)
            {
                Console.WriteLine(infos[i]);
            }

            //ğŸ”´è·å–ç±»çš„å…¬å…± æ„é€ å‡½æ•°å¹¶è°ƒç”¨
            //1.è·å–æ‰€æœ‰æ„é€ å‡½æ•°
            ConstructorInfo[] ctors = t.GetConstructors();
            for (int i = 0; i < ctors.Length; i++)
            {
                Console.WriteLine(ctors[i]);
            }
            //2.è·å–å…¶ä¸­ä¸€ä¸ªæ„é€ å‡½æ•° å¹¶æ‰§è¡Œ
            //å¾—æ„é€ å‡½æ•°ä¼ å…¥ Typeæ•°ç»„ æ•°ç»„ä¸­å†…å®¹æŒ‰é¡ºåºæ˜¯å‚æ•°ç±»å‹
            //æ‰§è¡Œæ„é€ å‡½æ•°ä¼ å…¥ objectæ•°ç»„ è¡¨ç¤ºæŒ‰é¡ºåºä¼ å…¥çš„å‚æ•°
            //2-1å¾—åˆ°æ— å‚æ„é€ 
            ConstructorInfo info = t.GetConstructor(new Type[0]);
            //æ‰§è¡Œæ— å‚æ„é€  æ— å‚ä¼ null
            Test obj =info.Invoke(null) as Test;
            Console.WriteLine(obj.j);
            //2-2å¾—åˆ°æœ‰å‚æ„é€  (int)
            ConstructorInfo info2 = 
                t.GetConstructor(new Type[] { typeof(int) });
            obj = info2.Invoke(new object[] {2}) as Test;
            Console.WriteLine(obj.str);
            //å¾—åˆ°æœ‰å‚æ„é€  (int,string)
            ConstructorInfo info3 = 
                t.GetConstructor(new Type[] { typeof(int), typeof(string) });
            obj = info3.Invoke(new object[] { 10, "ä½ å¥½ä¸–ç•Œ" }) as Test;
            Console.WriteLine(obj.str);


            //ğŸ”´è·å–ç±»çš„å…¬å…±æˆå‘˜ å˜é‡
            //1.å¾—åˆ°æ‰€æœ‰æˆå‘˜
            FieldInfo[] fieldInfos = t.GetFields();
            for (int i = 0; i < fieldInfos.Length; i++)
            {
                Console.WriteLine(fieldInfos[i]);
            }
            //2.å¾—åˆ°æŒ‡å®šåç§°çš„å…¬å…±å˜é‡æˆå‘˜
            FieldInfo info4 = t.GetField("j");
            Console.WriteLine(info4);
            //3.é€šè¿‡åå°„è·å–å’Œè®¾ç½®å¯¹è±¡çš„å€¼
            // 3-1é€šè¿‡åå°„ è·å–å¯¹è±¡çš„æŸä¸ªå˜é‡çš„å€¼
            Test test = new Test();
            test.j = 99;
            test.str = "è‹è‹è‹";
            Console.WriteLine(info4.GetValue(test));
            // 3-2é€šè¿‡åå°„ è®¾ç½®æŒ‡å®šå¯¹è±¡çš„æŸä¸ªå˜é‡çš„å€¼
            info4.SetValue(test, 999);
            Console.WriteLine(info4.GetValue(test));

            //ğŸ”´è·å–ç±»çš„å…¬å…±æˆå‘˜ æ–¹æ³•
            Type strType = typeof(string);
            //1.å¾—åˆ°æ‰€æœ‰æˆå‘˜
            MethodInfo[] methods = strType.GetMethods();
            for (int i = 0; i < methods.Length; i++)
            {
                Console.WriteLine(methods[i]);
            }
            //2.å¾—åˆ°æŒ‡å®šæ–¹æ³•
            MethodInfo info5 = strType.GetMethod("Substring",
                new Type[] {typeof(int),typeof(int) });
            //3.è°ƒç”¨æ–¹æ³•
            //æ³¨æ„ï¼šå¦‚æœæ˜¯é™æ€æ–¹æ³• Incokeä¸­çš„ç¬¬ä¸€ä¸ªå‚æ•°ä¼ nullå³å¯
            string str = "Helloï¼ŒWorld!";
            object result =info5.Invoke(str, new object[] { 6, 5 });
            Console.WriteLine(result);
            
            //ğŸ”´è·å–ç±»çš„äº‹ä»¶
            //ğŸ”´è·å–å±æ€§
            //ğŸ”´è·å–æ¥å£
            //ğŸ”´è·å–æšä¸¾
        }
    }
}
```

### Activator

å¿«é€Ÿå®ä¾‹åŒ–ä¸€ä¸ªå¯¹è±¡
Activator.CreateInstance

![image.png](03è¿›é˜¶img/1658889617946-bb9e3ea7-6f9e-40d0-88be-48174946a35c.png)

```c#
using System;
using System.Reflection;

namespace Lesson_13_åå°„å’Œç‰¹æ€§
{
    class Test
    {
        private int i = 1;
        public int j = 10;
        public string str = "ä½ æ˜¯";

        public Test ()
        {

        }
        public Test (int i)
        {
            this.i = i;
        }
        public Test (int i,string str): this(i)
        {
            this.str = str;
        }
        public void Spek()
        {
            Console.WriteLine(i);
        }
    }

    class Program
    {
        static void Main(string[] args)
        {
            //Activator
            //ç”¨äºå°†Typeå¯¹è±¡å¿«æ·å®ä¾‹åŒ–ä¸ºå¯¹è±¡
            Type testType = typeof(Test);
            //1.æ— å‚æ„é€ 
            Test testObj = Activator.CreateInstance(testType) as Test;
            Console.WriteLine(testObj.str);
            //2.æœ‰å‚æ„é€ 
            testObj = Activator.CreateInstance(testType, 99) as Test;

            testObj = Activator.CreateInstance(testType, 888,"ä½ å¥½ä½ å¥½") as Test;
            Console.WriteLine(testObj.str);
        }
    }
}
```

### Assembly

åŠ è½½ç¨‹åºé›†
Assembly.LoadFrom

![image.png](03è¿›é˜¶img/1658890553179-f3ca5a09-41b1-45a4-9d45-46df69d98068.png)

```c#
namespace Lesson_13_åå°„æµ‹è¯•å¯¹è±¡
{
    class MyClass
    {
        private int a;
        private int b;

        public MyClass(int a,int b)
        {
            this.a = a;
            this.b = b;
        }

        public void Print()
        {
            Console.WriteLine("açš„å€¼ä¸º{0}\nbçš„å€¼ä¸º{1}",a,b);
        }
    }
    class Program
    {
        static void Main(string[] args)
        {
            MyClass myClass = new MyClass(10, 20);
            myClass.Print();
            Console.WriteLine("Hello World!");
        }
    }
}
```

```c#
namespace Lesson_13_åå°„å’Œç‰¹æ€§
{
    class Porgram
    {
        static void Main(string[] args)
        {
            //1.å…ˆåŠ è½½ä¸€ä¸ªæŒ‡å®šçš„ç¨‹åºé›†
            Assembly assembly = Assembly.LoadFrom
            (@"C:\Users\suxia\Desktop\CSharpè¿›é˜¶\Lesson_13_åå°„æµ‹è¯•å¯¹è±¡
            \bin\Debug\netcoreapp3.1\Lesson_13_åå°„æµ‹è¯•å¯¹è±¡");
            Type[] types = assembly.GetTypes();
            for (int i = 0; i < types.Length; i++)
            {
                Console.WriteLine(types[i]);
            }
            //2.å†åŠ è½½ç¨‹åºé›†ä¸­çš„ä¸€ä¸ªç±»å¯¹è±¡ ä¹‹åæ‰èƒ½ä½¿ç”¨åå°„
            Type myClass = assembly.GetType("Lesson_13_åå°„æµ‹è¯•å¯¹è±¡.MyClass");
            //å¿«é€Ÿå®ä¾‹åŒ–å¯¹è±¡
            object myClassObj= Activator.CreateInstance(myClass, 999, 888);
            //å¾—åˆ°å¯¹è±¡çš„æ–¹æ³•
            MethodInfo print = myClass.GetMethod("Print");
            //è°ƒç”¨å¯¹è±¡
            print.Invoke(myClassObj, null);
        }
    }
}
```



## ç‰¹æ€§

å…³é”®å­—ï¼šAttribute

![image.png](03è¿›é˜¶img/1658973105885-427f6917-80ee-4663-a7ed-85012d475199.png)

![image.png](03è¿›é˜¶img/1658973748709-4c529fff-0925-45fc-a0ef-ede5b382f43d.png)

```c#
//ç‰¹æ€§çš„å£°æ˜
//ç»§æ‰¿åŸºç±» Attribute
class MyClustomAttribute :Attribute
{
    //ç‰¹æ€§ä¸­çš„æˆå‘˜ 
    public string info;
    public MyClustomAttribute(string info)
    {
        this.info = info;
    }

    public void TestFun()
    {
        Console.WriteLine("ç‰¹æ€§çš„æ–¹æ³•");
    }
}

//ç‰¹æ€§çš„å£°æ˜ å¯ä»¥åœ¨ç±»å‰ å˜é‡å‰ æ–¹æ³•å‰ ç­‰
[MyClustom("è¿™æ˜¯ä¸€ä¸ªç±»")]
[MyCustom2()]
class MyClass
{
    [MyClustom("æˆå‘˜å˜é‡")]
    int value;

    [MyClustom("æˆå‘˜æ–¹æ³•")]
    public void MyFun([MyClustom("å‡½æ•°å‚æ•°")] int a)
    {

    }
}

#region é™åˆ¶è‡ªå®šä¹‰ç‰¹æ€§çš„ä½¿ç”¨èŒƒå›´
//é€šè¿‡ä¸ºç‰¹æ€§ç±»æ·»åŠ ç‰¹æ€§é™åˆ¶å…¶ä½¿ç”¨èŒƒå›´
[AttributeUsage(AttributeTargets.Class|AttributeTargets.Struct,
                AllowMultiple =true,Inherited =true)]
//å‚æ•°1 AttributeTargets  ç‰¹æ€§èƒ½ç”¨åœ¨å“ªä¸ªåœ°æ–¹
//å‚æ•°2 AllowMultiple     æ˜¯å¦å…è®¸å¤šä¸ªç‰¹æ€§ç”¨åœ¨åŒä¸€ç›®æ ‡
//å‚æ•°3 Inherited         ç‰¹æ€§æ˜¯å¦èƒ½è¢«æ´¾ç”Ÿç±»å’Œé‡å†™æˆå‘˜ç»§æ‰¿
public class MyCustom2Attribute : Attribute
{

}
#endregion

class Program
{
    static void Main(string[] args)
    {
        //ç‰¹æ€§çš„ä½¿ç”¨
        //è·å–Type
        Type t = typeof(MyClass);
        //åˆ¤æ–­æ˜¯å¦ä½¿ç”¨äº†æŸä¸ªç‰¹æ€§
        //å‚æ•°1ç‰¹æ€§çš„ç±»å‹  å‚æ•°2æ˜¯å¦æœç´¢ç»§æ‰¿é“¾ï¼ˆå±æ€§å’Œäº‹ä»¶å¿½ç•¥æ­¤å‚æ•°ï¼‰
        if (t.IsDefined(typeof(MyClustomAttribute),false))
        {
            Console.WriteLine("è¯¥ç±»å‹åº”ç”¨äº†MyClustomç‰¹æ€§");
        }

        //è·å–Typeå…ƒæ•°æ®ä¸­æ‰€æœ‰ç‰¹æ€§ 
        object[] aeeay= t.GetCustomAttributes(true);
        //é€šè¿‡éå†æŸ¥æ‰¾ç‰¹æ€§
        for (int i = 0; i < aeeay.Length; i++)
        {
            if (aeeay[i] is MyClustomAttribute)
            {
                //æ‰¾åˆ°äº† é‡Œæ°æ›¿æ¢åä½¿ç”¨
                Console.WriteLine((aeeay[i] as MyClustomAttribute).info);
                (aeeay[i] as MyClustomAttribute).TestFun();
            }
        }
    }
}
```

è¿‡æ—¶ç‰¹æ€§

![image.png](03è¿›é˜¶img/1658977315536-5fa2f860-bc90-4e8e-979b-db7165bb0466.png)

è°ƒç”¨è€…ä¿¡æ¯ç‰¹æ€§

![image.png](03è¿›é˜¶img/1658977767188-152a8923-edc7-4918-9434-af1e1e2bf3bd.png)

![image.png](03è¿›é˜¶img/1658978007945-b73025e1-25f0-4388-aa32-04ddc239150a.png)

æ¡ä»¶ç¼–è¯‘ç‰¹æ€§

![image.png](03è¿›é˜¶img/1658978235788-54c4ca01-4fcc-48f8-878b-2471ca0c7198.png)

~~~c#
#define Fun

using System.Diagnostics;

namespace test
{

    class Test
    {

        static void Main(string[] args)
        {
            fun();	// è¯¥æ–¹æ³•åªæœ‰ä½¿ç”¨#defineå®šä¹‰äº† Fun æ‰ä¼šè°ƒç”¨
        }

        [Conditional("Fun")]
        static void fun()
        {
            Console.WriteLine("fun");
        }
    }
}
~~~


å¤–éƒ¨DllåŒ…å‡½æ•°ç‰¹æ€§

![image.png](03è¿›é˜¶img/1658978940141-46b0f616-1c53-4720-a754-3d2b83c2a72a.png)

![image.png](03è¿›é˜¶img/1658979031393-5e326d67-1689-4eb6-9b77-e321585568e0.png)



# è¿­ä»£å™¨

![image.png](03è¿›é˜¶img/1658999496339-3a228a72-a56d-49fe-ba9e-737534530a79.png)

## æ ‡å‡†è¿­ä»£å™¨å®ç°æ–¹æ³•

![image.png](03è¿›é˜¶img/1658999534477-9806fb3c-048b-478a-a02a-79281b8ff385.png)

![image.png](03è¿›é˜¶img/1659002921762-0cc625d0-0811-4b39-a0cd-4c9d0acebd62.png)

```c#
//ç»§æ‰¿IEnumerableæ¥å£
class CustomList : IEnumerable ,IEnumerator
{
    private int[] list;
    //å…‰æ ‡ä»-1å¼€å§‹ ç”¨äºè¡¨ç¤ºæ•°æ®å¾—åˆ°äº†å“ªä¸ªä½ç½® 
    private int pos = -1;

    public CustomList()
    {
        list = new[] { 1, 2, 3, 4, 5, 6, 7, 8 };
    }

    public IEnumerator GetEnumerator()
    {
        //é‡ç½®å…‰æ ‡
        Reset();
        //å¾—åˆ°è‡ªèº«çš„ç±»
        return this;
    }

    public object Current
    {
        get
        {
            return list[pos];
        }
    }
    public bool MoveNext()
    {
        //ç§»åŠ¨å…‰æ ‡
        ++pos;
        //æ˜¯å¦æº¢å‡º
        return pos < list.Length;
    }
    //é‡ç½®å…‰æ ‡ä½ç½® ç”¨äºç¬¬ä¸€æ¬¡é‡ç½®å…‰æ ‡ä½ç½®
    public void Reset()
    {
        pos = -1;
    }
}

class Program
{
    static void Main(string[] args)
    {
        CustomList customList = new CustomList();
        //foreachçš„æœ¬è´¨
        //1.å…ˆè·å–inåé¢è¿™ä¸ªå¯¹è±¡çš„ IEnumerator
        // ä¼šè°ƒç”¨å¯¹è±¡å…¶ä¸­çš„GetEnumeratoræ–¹æ³•è·å–
        //2.æ‰§è¡Œå¾—åˆ°è¿™ä¸ªIEnumeratorå¯¹è±¡ä¸­MoveNextæ–¹æ³•
        //3.åªè¦MoveNextæ–¹æ³•è¿”å›å€¼æ˜¯true å°±ä¼šå¾—åˆ°Currentï¼ˆå…‰æ ‡ï¼‰
        // ç„¶åèµ‹å€¼ç»™ item
        foreach (int item in customList)
        {
            Console.WriteLine(item);
        }
            
    }
}
```

## yield returnå®ç°è¿­ä»£å™¨

![image.png](03è¿›é˜¶img/1659003081025-89e693de-98cf-4d68-b4d3-838225f50960.png)

```c#
//yield returnå®ç°è¿­ä»£å™¨
class CustomList2 : IEnumerable
{
    private int[] list;
    public CustomList2()
    {
        list = new int[] { 1, 2, 3, 4, 5, 6, 7, 8 };
    }
    public IEnumerator GetEnumerator()
    {
        for (int i = 0; i < list.Length; i++)
        {
            //yieldå…³é”®è¯ é…åˆè¿­ä»£å™¨ä½¿ç”¨
            //æš‚æ—¶è¿”å›ä¿ç•™å½“å‰çš„çŠ¶æ€
            yield return list[i];
        }
    }
}

class Program
{
    static void Main(string[] args)
    {
        CustomList2 customList2 = new CustomList2();
        foreach (int item in customList2)
        {
            Console.WriteLine(item);
        }
            
    }
}
```

yield returnä¸ºæ³›å‹ç±»å®ç°è¿­ä»£å™¨

```c#
//yield returnä¸ºæ³›å‹ç±»å®ç°è¿­ä»£å™¨
class CustomList3<T> : IEnumerable
{
    private T[] array;
    public CustomList3(params T[] array)
    {
        this.array = array;
    }
    public IEnumerator GetEnumerator()
    {
        for (int i = 0; i < array.Length; i++)
        {
            yield return array[i];
        }
    }
}

class Program
{
    static void Main(string[] args)
    {
        CustomList3<string> customList3 = 
            new CustomList3<string>("ä½ ","å¥½","ä¸–","ç•Œ");
        foreach (string item in customList3)
        {
            Console.WriteLine(item);
        }
            
    }
}
```



# ç‰¹æ®Šè¯­æ³•

varéšå¼ç±»å‹

![image.png](03è¿›é˜¶img/1659059546011-0909f293-9160-4ccd-8f1c-574f14c28d9b.png)

```

varÂ iÂ =Â 10;
varÂ sÂ =Â "ä½ å¥½iä¸–ç•Œ";
varÂ arrayÂ =Â newÂ int[]Â {Â 1,Â 2,Â 3,Â 4Â };

```

è®¾ç½®å¯¹è±¡åˆå§‹å€¼

![image.png](03è¿›é˜¶img/1659059944137-ce6495d2-7c55-44b8-9f9c-a0713c19d8a6.png)

```c#
class Person
{
    private int money;
    public bool sex;
    public string Name
    {
        get;
        set;
    }
    public int Age
    {
        get;
        set;
    }
    public Person(int money)
    {
        this.money = money;
    }
}
//*******************************
//å£°æ˜å¯¹è±¡æ—¶ ç›´æ¥å†™å¤§æ‹¬å·åˆå§‹åŒ–å…¬å…±æˆå‘˜å˜é‡å’Œå±æ€§
Person person = 
    new Person (99) { sex = true, Name = "è‹åŒå­¦", Age = 20 };
```

è®¾ç½®é›†åˆçš„åˆå§‹å€¼

![image.png](03è¿›é˜¶img/1659060375193-d84b1c94-c728-44e8-a93a-1d954934f412.png)

```

//å£°æ˜é›†åˆå¯¹è±¡æ—¶ ç›´æ¥é€šè¿‡å¤§æ‹¬å·åˆå§‹åŒ–å†…éƒ¨å±æ€§
ListÂ listIntÂ =Â newÂ List()Â {Â 1,Â 2,Â 3,Â 4,Â 5,Â 6Â };
//å¥—å¨ƒä¸Šä¸€ä¸ªè®¾ç½®å¯¹è±¡åˆå§‹å€¼
ListÂ listPersonÂ =Â newÂ List()
{
Â Â Â Â newÂ Person(100),
Â Â Â Â newÂ Person(230){Â Age=10},
Â Â Â Â newÂ Person(999){Name="è‹åŒå­¦",sex=true}
};
//å­—å…¸ä¹Ÿå¯ä»¥
DictionaryÂ dicÂ =Â newÂ Dictionary()
{
Â Â Â Â {Â 1,"ä½ "},
Â Â Â Â {Â 2,"å¥½"},
Â Â Â Â {Â 3,"ä¸–"},
Â Â Â Â {Â 4,"ç•Œ"}
};

```

åŒ¿åç±»å‹
var å˜é‡å¯ä»¥å£°æ˜ä¸ºè‡ªå®šä¹‰çš„åŒ¿åç±»
åŒ¿åç±»ä¸­åªèƒ½æœ‰æˆå‘˜å˜é‡ï¼Œä¸èƒ½æœ‰å‡½æ•°

```

//åŒ¿åç±»å‹
//var å˜é‡å¯ä»¥å£°æ˜ä¸ºè‡ªå®šä¹‰çš„åŒ¿åç±»å‹
varÂ vÂ =Â newÂ {Â name="è‹åŒå­¦",Â moneyÂ =Â 999Â };
Console.WriteLine(v.money);

```

å¯ç©ºç±»å‹

```c#
//1.å€¼ç±»å‹ä¸èƒ½èµ‹å€¼ä¸ºç©º
//int c = null;
//2.å£°æ˜æ—¶åœ¨å€¼ç±»å‹åé¢åŠ  ? å¯èµ‹å€¼ä¸ºç©º
int?Â cÂ =Â null;
//3.åˆ¤æ–­æ˜¯å¦ä¸ºç©º
ifÂ (c.HasValue)
{
Â Â Â Â Console.WriteLine(c);
Â Â Â Â Console.WriteLine(c.Value);
}
//4.å®‰å…¨è·å–å¯ç©ºç±»å‹å€¼
//å¦‚æœä¸ºç©º è¿”å›å€¼ç±»å‹çš„é»˜è®¤å€¼
Console.WriteLine(c.GetValueOrDefault());
//å¦‚æœä¸ºç©º è¿”å›æŒ‡å®šé»˜è®¤å€¼
Console.WriteLine(c.GetValueOrDefault(100));

//â­•å¼•ç”¨ç±»å‹çš„ç‰¹æ®Šç”¨æ³•
objectÂ oÂ =Â null;
if(oÂ !=Â null)
{
Â Â Â Â o.ToString();
}
//ç­‰ä»·ä¸Šé¢çš„ç®€ä¾¿å†™æ³•
o?.ToString();

//â­•å§”æ‰˜çš„ç‰¹æ®Šç”¨æ³•
ActionÂ actionÂ =Â null;
if(actionÂ !=Â null)
{
Â Â Â Â action();
}
//ç­‰ä»·ä¸Šé¢çš„ç®€ä¾¿å†™æ³•
action?.Invoke();
```

ç©ºåˆå¹¶æ“ä½œç¬¦

```c#
//ç©ºåˆå¹¶æ“ä½œç¬¦
//å·¦è¾¹å€¼ ?? å³è¾¹å€¼
//å¦‚æœå·¦è¾¹å€¼ä¸ºnull å°±è¿”å›å³è¾¹å€¼ å¦åˆ™è¿”å›å·¦è¾¹å€¼
int?Â intVÂ =Â null;
intÂ intIÂ =Â intVÂ ==Â nullÂ ?Â 100Â :Â intV.Value;
//ç­‰ä»·ä¸Šé¢çš„ç®€ä¾¿å†™æ³•
intIÂ =Â intVÂ ??Â 100;
```

å†…æ’å­—ç¬¦ä¸²

```c#
//å…³é”®å­—: $
//ç”¨$æ¥æ„é€ å­—ç¬¦ä¸² è®©å­—ç¬¦ä¸²å¯ä»¥æ‹¼æ¥å˜é‡
stringÂ nameÂ =Â "è‹åŒå­¦";
intÂ ageÂ =18;
Console.WriteLine($"æ˜æ˜æ¬²ç¡{name},ä»Šå¹´{age}");
```

å•æ®é€»è¾‘ç®€ç•¥å†™æ³•
é€»è¾‘ä¸­åªæœ‰å•è¡Œä»£ç  æ‰èƒ½çœå»å¤§æ‹¬å·

```c#
//å•å¥é€»è¾‘çš„ç®€ç•¥å†™æ³•
if(true)Â Console.WriteLine("1111111111");
forÂ (intÂ j=0;Â j<10;Â j++)Â Console.WriteLine("1111111111");
```

```c#
//åœ¨å±æ€§ä¸­çš„å•æ®ç®€ç•¥å†™æ³•
classÂ Test
{
Â Â Â Â privateÂ stringÂ nameÂ =Â "";
Â Â Â Â publicÂ stringÂ Name
Â Â Â Â {
Â Â Â Â Â Â Â Â getÂ =>Â name;
Â Â Â Â Â Â Â Â setÂ =>Â name=value;
Â Â Â Â }
}
```

```c#
//åœ¨å‡½æ•°ä¸­çš„ç®€ç•¥å†™æ³•
publicÂ intÂ AddÂ (intÂ x,intÂ y)Â =>Â x+y;
publicÂ voidÂ SpeekÂ (stringÂ str)Â =>Â Console.WriteLine(str);
```



# å€¼ç±»å‹å’Œå¼•ç”¨ç±»å‹

![image.png](03è¿›é˜¶img/1659065820811-989f0bc3-95a9-4ff1-b741-030aad54a477.png)

![image.png](03è¿›é˜¶img/1659065853582-17c2a84c-56d9-4414-b0fa-27070a78f4c5.png)

![image.png](03è¿›é˜¶img/1659065922232-b9db1794-84cd-4095-8694-caa6eea9de38.png)

![image.png](03è¿›é˜¶img/1659066061127-ef9c8beb-1046-41e8-8121-4d18fab8089d.png)

![image.png](03è¿›é˜¶img/1659066188267-3db9ffe5-8bc3-445a-b565-aa8ef17ede53.png)

![image.png](03è¿›é˜¶img/1659066879309-85e766e7-14c3-4be7-ab96-f427ff06000e.png)

![image.png](03è¿›é˜¶img/1659087595539-5138b343-b522-4796-a61f-72ae9a7d3e9d.png)

![image.png](03è¿›é˜¶img/1659087571349-ea8db942-e17e-4d4f-8478-ab14fe475274.png)

![image.png](03è¿›é˜¶img/1659088405789-78aa77ee-883f-411b-a48f-9227ea77058e.png)

![image.png](03è¿›é˜¶img/1659089033770-d8fb292e-1043-4527-a3bf-a2e8113b7101.png)
